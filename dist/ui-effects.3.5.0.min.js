/*! soon-ui 2020-11-10 */

!function(a,b){a.effect={}}(ui,ui.$),function(a,b){function c(a,b,c,d){if("string"==typeof a)var a=document.getElementById(a);else if("undefined"!=typeof HTMLImageElement&&!a instanceof HTMLImageElement)return;var f=a.naturalWidth,h=a.naturalHeight;if("string"==typeof b)var b=document.getElementById(b);else if("undefined"!=typeof HTMLCanvasElement&&!b instanceof HTMLCanvasElement)return;b.style.width=f+"px",b.style.height=h+"px",b.width=f,b.height=h;var i=b.getContext("2d");i.clearRect(0,0,f,h),i.drawImage(a,0,0),isNaN(c)||c<1||(d?e(b,0,0,f,h,c):g(b,0,0,f,h,c))}function d(a,b,c,d,e){if("string"==typeof a)var a=document.getElementById(a);else if("undefined"!=typeof HTMLCanvasElement&&!a instanceof HTMLCanvasElement)return;var f,g=a.getContext("2d");try{try{f=g.getImageData(b,c,d,e)}catch(a){throw new Error("unable to access local image data: "+a)}}catch(a){throw new Error("unable to access image data: "+a)}return f}function e(a,b,c,e,g,h){if(!(isNaN(h)||h<1)){h|=0;var i=d(a,b,c,e,g);i=f(i,b,c,e,g,h),a.getContext("2d").putImageData(i,b,c)}}function f(a,b,c,d,e,f){var g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a.data,H=f+f+1,I=d-1,J=e-1,K=f+1,L=K*(K+1)/2,M=new BlurStack,N=M;for(k=1;k<H;k++)if(N=N.next=new BlurStack,k==K)var O=N;N.next=M;var P=null,Q=null;o=n=0;var R=i[f],S=j[f];for(h=0;h<e;h++){for(x=y=z=A=p=q=r=s=0,t=K*(B=G[n]),u=K*(C=G[n+1]),v=K*(D=G[n+2]),w=K*(E=G[n+3]),p+=L*B,q+=L*C,r+=L*D,s+=L*E,N=M,k=0;k<K;k++)N.r=B,N.g=C,N.b=D,N.a=E,N=N.next;for(k=1;k<K;k++)l=n+((I<k?I:k)<<2),p+=(N.r=B=G[l])*(F=K-k),q+=(N.g=C=G[l+1])*F,r+=(N.b=D=G[l+2])*F,s+=(N.a=E=G[l+3])*F,x+=B,y+=C,z+=D,A+=E,N=N.next;for(P=M,Q=O,g=0;g<d;g++)G[n+3]=E=s*R>>S,0!=E?(E=255/E,G[n]=(p*R>>S)*E,G[n+1]=(q*R>>S)*E,G[n+2]=(r*R>>S)*E):G[n]=G[n+1]=G[n+2]=0,p-=t,q-=u,r-=v,s-=w,t-=P.r,u-=P.g,v-=P.b,w-=P.a,l=o+((l=g+f+1)<I?l:I)<<2,x+=P.r=G[l],y+=P.g=G[l+1],z+=P.b=G[l+2],A+=P.a=G[l+3],p+=x,q+=y,r+=z,s+=A,P=P.next,t+=B=Q.r,u+=C=Q.g,v+=D=Q.b,w+=E=Q.a,x-=B,y-=C,z-=D,A-=E,Q=Q.next,n+=4;o+=d}for(g=0;g<d;g++){for(y=z=A=x=q=r=s=p=0,n=g<<2,t=K*(B=G[n]),u=K*(C=G[n+1]),v=K*(D=G[n+2]),w=K*(E=G[n+3]),p+=L*B,q+=L*C,r+=L*D,s+=L*E,N=M,k=0;k<K;k++)N.r=B,N.g=C,N.b=D,N.a=E,N=N.next;for(m=d,k=1;k<=f;k++)n=m+g<<2,p+=(N.r=B=G[n])*(F=K-k),q+=(N.g=C=G[n+1])*F,r+=(N.b=D=G[n+2])*F,s+=(N.a=E=G[n+3])*F,x+=B,y+=C,z+=D,A+=E,N=N.next,k<J&&(m+=d);for(n=g,P=M,Q=O,h=0;h<e;h++)l=n<<2,G[l+3]=E=s*R>>S,E>0?(E=255/E,G[l]=(p*R>>S)*E,G[l+1]=(q*R>>S)*E,G[l+2]=(r*R>>S)*E):G[l]=G[l+1]=G[l+2]=0,p-=t,q-=u,r-=v,s-=w,t-=P.r,u-=P.g,v-=P.b,w-=P.a,l=g+((l=h+K)<J?l:J)*d<<2,p+=x+=P.r=G[l],q+=y+=P.g=G[l+1],r+=z+=P.b=G[l+2],s+=A+=P.a=G[l+3],P=P.next,t+=B=Q.r,u+=C=Q.g,v+=D=Q.b,w+=E=Q.a,x-=B,y-=C,z-=D,A-=E,Q=Q.next,n+=d}return a}function g(a,b,c,e,f,g){if(!(isNaN(g)||g<1)){g|=0;var i=d(a,b,c,e,f);i=h(i,b,c,e,f,g),a.getContext("2d").putImageData(i,b,c)}}function h(a,b,c,d,e,f){var g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=a.data,D=f+f+1,E=d-1,F=e-1,G=f+1,H=G*(G+1)/2,I=new BlurStack,J=I;for(k=1;k<D;k++)if(J=J.next=new BlurStack,k==G)var K=J;J.next=I;var L=null,M=null;o=n=0;var N=i[f],O=j[f];for(h=0;h<e;h++){for(v=w=x=p=q=r=0,s=G*(y=C[n]),t=G*(z=C[n+1]),u=G*(A=C[n+2]),p+=H*y,q+=H*z,r+=H*A,J=I,k=0;k<G;k++)J.r=y,J.g=z,J.b=A,J=J.next;for(k=1;k<G;k++)l=n+((E<k?E:k)<<2),p+=(J.r=y=C[l])*(B=G-k),q+=(J.g=z=C[l+1])*B,r+=(J.b=A=C[l+2])*B,v+=y,w+=z,x+=A,J=J.next;for(L=I,M=K,g=0;g<d;g++)C[n]=p*N>>O,C[n+1]=q*N>>O,C[n+2]=r*N>>O,p-=s,q-=t,r-=u,s-=L.r,t-=L.g,u-=L.b,l=o+((l=g+f+1)<E?l:E)<<2,v+=L.r=C[l],w+=L.g=C[l+1],x+=L.b=C[l+2],p+=v,q+=w,r+=x,L=L.next,s+=y=M.r,t+=z=M.g,u+=A=M.b,v-=y,w-=z,x-=A,M=M.next,n+=4;o+=d}for(g=0;g<d;g++){for(w=x=v=q=r=p=0,n=g<<2,s=G*(y=C[n]),t=G*(z=C[n+1]),u=G*(A=C[n+2]),p+=H*y,q+=H*z,r+=H*A,J=I,k=0;k<G;k++)J.r=y,J.g=z,J.b=A,J=J.next;for(m=d,k=1;k<=f;k++)n=m+g<<2,p+=(J.r=y=C[n])*(B=G-k),q+=(J.g=z=C[n+1])*B,r+=(J.b=A=C[n+2])*B,v+=y,w+=z,x+=A,J=J.next,k<F&&(m+=d);for(n=g,L=I,M=K,h=0;h<e;h++)l=n<<2,C[l]=p*N>>O,C[l+1]=q*N>>O,C[l+2]=r*N>>O,p-=s,q-=t,r-=u,s-=L.r,t-=L.g,u-=L.b,l=g+((l=h+G)<F?l:F)*d<<2,p+=v+=L.r=C[l],q+=w+=L.g=C[l+1],r+=x+=L.b=C[l+2],L=L.next,s+=y=M.r,t+=z=M.g,u+=A=M.b,v-=y,w-=z,x-=A,M=M.next,n+=d}return a}var i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],j=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];a.effect.blurImage=c,a.effect.blurCanvasRGBA=e,a.effect.blurCanvasRGB=g,a.effect.blurImageDataRGBA=f,a.effect.blurImageDataRGB=h}(ui,ui.$),function(a,b){function c(a,b){return Math.pow(4*b/(4*b+Math.pow(a,4)),b)}function d(a){if(!(this instanceof d))return new d(a);this.initialize(a)}function e(a){if(!(this instanceof e))return new e(a);this.initialize(a)}function f(c,d,e){function f(){this.context.globalCompositeOperation="destination-out",this.context.fillRect(0,0,this.width,this.height),this.context.globalCompositeOperation="source-over"}var g;return g=new a.ArrayLike,g.width=d,g.height=e,g.canvas=c,g.canvas.width=d,g.canvas.height=e,g.context=c.getContext("2d"),g.start=function(){var a;this.animationHandler||(a=function(){f.call(this),this.forEach(function(a){a.draw()}),this.animationHandler=requestAnimationFrame(a,1e3)}.bind(this))()},g.stop=function(){this.animationHandler&&(cancelAnimationFrame(this.animationHandler),this.animationHandler=null)},g.reset=function(){f.call(this),this.forEach(function(a){a.phase=0})},g.resize=function(){var a=b(this.canvas);this.width=a.width(),this.height=a.height(),this.canvas.width=this.width,this.canvas.height=this.height},g}d.prototype={constructor:d,initialize:function(a){this.K=a.K||2,this.F=a.F||6,this.speed=a.speed||.01,this.phase=0,this.width=a.width||100,this.height=a.height||100,this.wavePeak=Math.floor(this.height*(a.waveMax||.5)*(a.level||.1)),this.deep=a.deep||1.5,this.attenuation=a.attenuation||1,this.thin=a.thin||1,this.color=a.color||"rgba(0,0,0,1)",this.context=a.context||null},draw:function(){var a,b,d,e;if(d=this.K,e=this.F,this.context){this.context.moveTo(0,0),this.context.beginPath(),this.phase=(this.phase+this.speed)%(64*Math.PI);for(var f=-d;f<=d;f+=.01)a=this.width*((f+d)/(2*d)),b=this.height/2+this.wavePeak*c(f,d)*(1/this.attenuation)*(Math.sin(e*f*.2-this.phase)-.5),b*=this.deep,this.context.lineTo(a,b);this.context.strokeStyle=this.color,this.context.lineWidth=this.thin,this.context.stroke()}}},e.prototype={constructor:e,initialize:function(a){d.prototype.initialize.call(this,a),this.bgColor=a.bgColor||"rgba(255,255,255,1)"},draw:function(){var a,b,d,e,f;if(d=this.K,e=this.F,this.context){this.context.moveTo(0,0),this.context.beginPath(),this.context.lineTo(0,this.height),this.phase=(this.phase+this.speed)%(64*Math.PI);for(var g=-d;g<=d;g+=.01)a=this.width*((g+d)/(2*d)),b=this.height/2+this.wavePeak*c(g,d)*(1/this.attenuation)*(Math.sin(e*g*.2-this.phase)-.5),b*=this.deep,this.context.lineTo(a,b);this.context.lineTo(this.width,this.height),this.context.strokeStyle=this.color,this.context.lineWidth=this.thin,this.context.stroke(),f=this.context.createLinearGradient(0,0,0,this.height),f.addColorStop(0,this.color),f.addColorStop(1,this.bgColor),this.context.fillStyle=f,this.context.fill()}}},a.effect.WaveLine=d,a.effect.WaveArea=e,a.effect.Wave=f}(ui,ui.$);
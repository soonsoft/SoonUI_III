/*! SOON.UI 2018-04-13 */

!function(a,b){function c(a){return a&&a.length}function d(){if(!(this instanceof d))return new d;this.initialize()}b.core;d.prototype={constructor:d,initialize:function(){this.keys=null,this.items=null,this.comparer=function(a,c){return b.core.isString(a)?a.localeCompare(c):a<c?-1:c>a?1:0}},sort:function(a){b.core.isFunction(a)?this.comparer=a:(this.keys=a,b.core.isFunction(arguments[1])&&(this.comparer=arguments[1])),c(this.keys)&&(this.keys.length<2||(c(this.items)||(this.items=null),this._introsort(0,this.keys.length-1,2*this._floorLog2(this.keys.length))))},_introsort:function(a,b,c){for(var d;b>a;){if((d=b-a+1)<=16){if(1==d)return;return 2==d?void this._compareAndSwap(a,b):3==d?(this._compareAndSwap(a,b-1),this._compareAndSwap(a,b),void this._compareAndSwap(b-1,b)):void this._insertionsort(a,b)}if(0===c)return void this._heapsort(a,b);c--,d=this.partition(a,b),this._introsort(d+1,b,c),b=d-1}},partition:function(a,b){var c=parseInt(a+(b-a)/2,10);this._compareAndSwap(a,c),this._compareAndSwap(a,b),this._compareAndSwap(c,b);var d=this.keys[c];this._swap(c,b-1);var e=a;for(c=b-1;e<c;){for(;this.comparer(this.keys[++e],d)<0;);for(;this.comparer(d,this.keys[--c])<0;);if(e>=c)break;this._swap(e,c)}return this._swap(e,b-1),e},_heapsort:function(a,b){for(var c,d=b-a+1,e=Math.floor(d/2);e>=1;e--)this._downHeap(e,d,a);for(c=d;c>1;c--)this._swap(a,a+c-1),this._downHeap(1,c-1,a)},_downHeap:function(a,b,c){for(var d,e=this.keys[c+a-1],f=this.items?this.items[c+a-1]:null;a<=Math.floor(b/2)&&(d=2*a,d<b&&this.comparer(this.keys[c+d-1],this.keys[c+d])<0&&d++,!(this.comparer(e,this.keys[c+d-1])>=0));)this.keys[c+a-1]=this.keys[c+d-1],null!==this.items&&(this.items[c+a-1]=this.items[c+d-1]),a=d;this.keys[c+a-1]=e,null!==this.items&&(this.items[c+a-1]=f)},_insertionsort:function(a,b){var c,d,e,f;for(c=a;c<b;c++){for(d=c,e=this.keys[c+1],f=this.items?this.items[c+1]:null;d>=a&&this.comparer(e,this.keys[d])<0;)this.keys[d+1]=this.keys[d],null!==this.items&&(this.items[d+1]=this.items[d]),d--;this.keys[d+1]=e,this.items&&(this.items[d+1]=f)}},_swap:function(a,b){var c=this.keys[a];this.keys[a]=this.keys[b],this.keys[b]=c,this.items&&(c=this.items[a],this.items[a]=this.items[b],this.items[b]=c)},_compareAndSwap:function(a,b){a!=b&&this.comparer(this.keys[a],this.keys[b])>0&&this._swap(a,b)},_floorLog2:function(a){for(var b=0;a>=1;)b++,a/=2;return b}},b.Introsort=d}(jQuery,ui),function(a,b){function c(){}function d(){var a,b,c,d,e,f;if((e=arguments.length)%2)throw new TypeError("arguments length error");for(a=[{x:0,y:0}],c=0;c<e;c+=2)a.push({x:parseFloat(arguments[c]),y:parseFloat(arguments[c+1])});for(a.push({x:1,y:1}),b=[],f=a.length-1,c=1;c<=f;c++){for(b[c]=1,d=c-1;d>=1;d--)b[d]+=b[d-1];b[0]=1}return function(c){var d,e,g,h;for(c<0&&(c=0),c>1&&(c=1),h={x:0,y:0},d=0;d<=f;d++)e=a[d],g=b[d],h.x+=g*e.x*Math.pow(1-c,f-d)*Math.pow(c,d),h.y+=g*e.y*Math.pow(1-c,f-d)*Math.pow(c,d);return h.y}}function e(){this.duration=500,this.fps=60,this.onBegin=!1,this.onEnd=!1,this.loop=!1,this.isStarted=!1}var f,g,h,i,j,k=["ms","moz","webkit","o"];if(f=window.requestAnimationFrame,g=window.cancelAnimationFrame,!f)for(j=0;j<k.length&&!f;j++)f=window[k[j]+"RequestAnimationFrame"],g=window[k[j]+"CancelAnimationFrame"]||window[k[j]+"CancelRequestAnimationFrame"];f||(f=function(a,b){b=b||60,setTimeout(a,1e3/b)}),g||(g=function(a){clearTimeout(a)}),i={ease:d(.25,.1,.25,1),linear:d(0,0,1,1),"ease-in":d(.42,0,1,1),"ease-out":d(0,0,.58,1),"ease-in-out":d(.42,0,.58,1)},h={easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return(a/=.5)<1?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*(2*Math.PI)/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},swing:function(a){return.5-Math.cos(a*Math.PI)/2},bounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?2-(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)},linear:function(a){return a},sinusoidal:function(a){return-Math.cos(a*Math.PI)/2+.5},reverse:function(a){return 1-a},mirror:function(a,c){return(c=c||b.AnimationStyle.sinusoidal)(a<.5?2*a:1-2*(a-.5))},flicker:function(a){return a+=(Math.random()-.5)/5,b.AnimationStyle.sinusoidal(a<0?0:a>1?1:a)},wobble:function(a){return-Math.cos(a*Math.PI*(9*a))/2+.5},pulse:function(a,b){return-Math.cos(a*((b||5)-.5)*2*Math.PI)/2+.5},blink:function(a,b){return Math.round(a*(b||5))%2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},none:function(a){return 0},full:function(a){return 1}},e.prototype=new b.ArrayFaker,e.prototype.addTarget=function(a,b){return 1===arguments.length&&(b=a,a=b.target),b&&(b.target=a,this.push(b)),this},e.prototype.removeTarget=function(a){var c=-1;if("number"!==b.core.type(a)){for(var d=0;d<this.length;d++)if(this[d]===a){c=d;break}}else c=a;c<0||this.splice(c,1)},e.prototype.doAnimation=function(){var a,c,d,e,g,h;0!==this.length&&(a=parseInt(this.fps,10)||60,g=this.length,d=b.core.isFunction(this.onEnd)?this.onEnd:null,this.isStarted=!0,h=this,c=(new Date).getTime(),function(){var b;b=function(){var a,i,j,k,l;for(a=(new Date).getTime(),i=a-c,e=0;e<g;e++)if(j=h[e],k=j.duration||h.duration,!(j.disabled||i<j.delay))try{k+j.delay<=i?(l=1,j.disabled=!0):l=j.ease((i-j.delay)/k),j.current=Math.ceil(j.begin+l*j.change),j.onChange(j.current,j.target,h)}catch(a){h.promise._reject(a)}h.duration<=i?(h.isStarted=!1,h.stopHandle=null,d&&d.call(h)):h.stopHandle=f(b)},h.stopHandle=f(b,1e3/a)}())},e.prototype._prepare=function(){var a,d,e,f,g=0;for(a=0,d=this.length;a<d;a++)e=this[a],e||(this.splice(a,1),a--),e.disabled=!1,e.begin=e.begin||0,e.end=e.end||0,e.change=e.end-e.begin,e.current=e.begin,0!==e.change?(e.onChange=e.onChange||c,e.ease=(b.core.isString(e.ease)?i[e.ease]:e.ease)||h.easeFromTo,e.duration=e.duration||0,e.delay=e.delay||0,(f=e.duration+e.delay)>this.duration&&(this.duration=f)):(e.disabled=!0,g++);return this.length==g},e.prototype.start=function(a){var d,e,f,g,h,i;return this.onBegin=b.core.isFunction(this.onBegin)?this.onBegin:c,this.onEnd=b.core.isFunction(this.onEnd)?this.onEnd:c,f=new Promise(function(a,b){d=a,e=b}),this.promise=f,this.promise._resolve=d,this.promise._reject=e,this.isStarted||(b.core.isNumber(a)&&a>0&&(this.duration=a),this.duration=parseInt(this.duration,10)||500,g=this._prepare(),this.onBegin.call(this),i=this,g?setTimeout(function(){i.onEnd.call(i),f._resolve(i)}):(h=this.onEnd,this.onEnd=function(){this.onEnd=h,h.call(this),f._resolve(this)},this.doAnimation())),f},e.prototype.stop=function(){g(this.stopHandle),this.isStarted=!1,this.stopHandle=null,this.promise&&(this.promise=null)},b.animator=function(a,b){var c=new e;return c.addTarget.apply(c,arguments),c},b.AnimationStyle=h,b.transitionTiming=function(){var a,c;return a=[].slice.call(arguments),c=a[0],b.core.isString(c)||(c=a.join(",")),i.hasOwnProperty(c)?i[c]:(i[c]=d.call(this,a),i[c])},b.getRequestAnimationFrame=function(){return f},b.getCancelAnimationFrame=function(){return g}}(jQuery,ui),function(a,b){function c(a){this._listeners={},this._eventTarget=a||this}c.prototype={constructor:c,addEventListener:function(a,b,c,d){isFinite(c)&&(d=c,c=null),d=d||0;var e,f,g=this._listeners[a],h=0;for(g||(this._listeners[a]=g=[]),f=g.length;--f>-1;)e=g[f],e.callback===b?g.splice(f,1):0===h&&e.priority<d&&(h=f+1);g.splice(h,0,{callback:b,scope:c,priority:d})},removeEventListener:function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].callback===b)return void d.splice(c,1)},dispatchEvent:function(a){var b=this._listeners[a];if(b&&b.length>0){for(var c,d,e=this._eventTarget,f=Array.apply([],arguments),g=b.length;--g>-1;)c=b[g],e=c.scope||e,f[0]={type:a,target:e},d=c.callback.apply(e,f);return d}},hasEvent:function(a){var b=this._listeners[a];return b&&b.length>0},initEvents:function(a,b){if(b||(b=this._eventTarget),a||(a=b.events),Array.isArray(a)&&0!==a.length){var c=this;b.on=function(a,b,d,e){c.addEventListener(a,b,d,e)},b.off=function(a,b){c.removeEventListener(a,b)},b.fire=function(a){var b=Array.apply([],arguments);return c.dispatchEvent.apply(c,b)};for(var d,e=0,f=a.length;e<f;e++)d=a[e],b[d]=this._createEventFunction(d,b)}},_createEventFunction:function(a,b){var c=a;return function(a,d,e){arguments.length>0&&b.on(c,a,d,e)}}},b.CustomEvent=c}(jQuery,ui),function(a,b){function c(a,c){var f=null;if(401==a.status)return d(c);if(403==a.status)return e(c);if(200==a.status&&(f=a.getResponseHeader(k),!b.str.isEmpty(f))){try{f=JSON.parse(f)}catch(a){f=null}if(f){if(401==f.status)return d(c);if(403==f.status)return e(c)}}return!0}function d(a){var b,c=location.href;return alert("等待操作超时，您需要重新登录"),b=c.indexOf("#"),b>0&&(c=c.substring(0,b)),location.replace(),!1}function e(a){var b={message:"您没有权限执行此操作，请更换用户重新登录或联系系统管理员。"};return a&&a.errorFn&&a.errorFn(b),!1}function f(a,b,d,e){!1!==c(e,a)&&a.successFn(b)}function g(a,b,d,e){var f=c(b,a);if(!1!==f){if("parsererror"===d)a.error.message="没能获取预期的数据类型，转换json发生错误",a.error.responseText=b.responseText;else try{f=JSON.parse(b.responseText),a.error.message=f.message||f.Message||"Unknown Error"}catch(c){a.error.message=b.responseText}a.errorFn(a.error)}}function h(a){var c,d=[],e=function(a,c){if(a){var e=b.core.isFunction(c)?c():c;d.push(encodeURIComponent(a)+"="+encodeURIComponent(null===e?"":e))}};if(Array.isArray(a))for(c=0;c<a.length;c++)e(a[c].name,a[c].value);else for(c in a)a.hasOwnProperty(c)&&e(c,a[c]);return d.join("&")}function i(a){return JSON.stringify(a)}function j(c,d,e,j,k,l){var m,n,o,p={error:{}};return b.core.isFunction(e)&&(k=j,j=e,e=null),o={type:"GET"===c.toUpperCase()?"GET":"POST",contentType:"application/json; charset=utf-8",dataType:"json",url:d,async:!0,data:e},l&&(o=a.extend(o,l)),m=b.core.type(e),n=o.contentType.indexOf("application/json")>-1?i:h,"string"!==m&&("array"===m||b.core.isPlainObject(e)?e=n(e):null===e||void 0===e||isNaN(e)?e="":e+=""),b.core.isFunction(j)&&(p.successFn=j,o.success=function(a,b,c){f(p,a,b,c)}),b.core.isFunction(k)&&(p.errorFn=k,o.error=function(a,b,c){g(p,a,b,c)}),a.ajax(o)}var k="X-Responded-JSON";b.ajax={get:function(a,b,c,d,e){return e||(e={}),e.contentType="application/x-www-form-urlencoded",j("GET",a,b,c,d,e)},post:function(a,b,c,d,e){return e||(e={}),e.contentType="application/x-www-form-urlencoded",j("POST",a,b,c,d,e)},postJson:function(a,b,c,d,e){return j("POST",a,b,c,d,e)},postOnce:function(a,c,d,e,f,g){var h,i,k;if(!(a=b.getJQueryElement(a)))throw new Error("没有正确设置要禁用的按钮");return g||(g={}),i="正在{0}...",g.textFormat&&(i=g.textFormat,delete g.textFormat),a.attr("disabled","disabled"),k=function(){a.removeAttr("disabled")},a.isNodeName("input")?(h=a.val(),h.length>0?a.val(b.str.format(i,h)):a.val(b.str.format(i,"处理")),k=function(){a.val(h),a.removeAttr("disabled")}):(h=a.html(),b._rhtml.test(h)||(a.text(b.str.format(i,h)),k=function(){a.text(h),a.removeAttr("disabled")})),g.complete=k,j("POST",c,d,e,f,g)},all:function(){var a,c;if(1==arguments.length)a=[arguments[0]];else{if(!(arguments.length>1))return;a=[].slice.call(arguments,0)}return c=Promise.all(a),c._then_old=c.then,c.then=function(){var a;return arguments.length>1&&b.core.isFunction(arguments[1])&&(a={error:{},errorFn:arguments[1]},arguments[1]=function(b){g(a,b)}),this._then_old.apply(this,arguments)},c}}}(jQuery,ui),function(a,b){function c(a){return a=a||0,a=parseInt(a,10),isNaN(a)&&(a=0),a=Math.round(Math.min(Math.max(0,a),255)),i.charAt((a-a%16)/16)+i.charAt(a%16)}function d(a){return i.indexOf(a.toUpperCase())}var e=/^[\#]([a-fA-F\d]{6}|[a-fA-F\d]{3})$/,f=/^rgb[\(]([\s]*[\d]{1,3}[\,]{0,1}[\s]*){3}[\)]$/i,g=/^rgba[\(]([\s]*[\d]{1,3}[\,][\s]*){3}(([\d])|(([0])?[\.][\d]+))[\)]$/i,h=/(([\d]*[\.][\d]+)|([\d]+))/gm,i="0123456789ABCDEF";b.color={parseRGB:function(a){var b;return f.test(a)&&(b=a.match(h))?{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10)}:null},parseRGBA:function(a){var b;return g.test(a)&&(b=a.match(h))?{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10),alpha:parseFloat(b[3])}:null},parseHex:function(a){var c,e,f;if(b.str.isEmpty(a))return null;if("#"===a.charAt(0)&&(a=a.substring(1)),3===a.length)for(e="",c=0;c<a.length;c++)e+=a.charAt(c)+a.charAt(c);else e=a;return f={},a=e.substring(0,2),f.red=16*d(a.charAt(0))+d(a.charAt(1)),a=e.substring(2,4),f.green=16*d(a.charAt(0))+d(a.charAt(1)),a=e.substring(4,6),f.blue=16*d(a.charAt(0))+d(a.charAt(1)),f},rgb2hex:function(a,b,d){return"#"+c(a)+c(b)+c(d)},overlay:function(a,b,c){var d,i,j,k;isNaN(c)&&(c=.5),d=function(a){var b;return e.test(a)?this.parseHex(a):f.test(a)||g.test(a)?(b=a.match(h),{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10)}):a},a=d.call(this,a),b=d.call(this,b),i=[a.red||0,a.green||0,a.blue||0],j=[b.red||0,b.green||0,b.blue||0],k=[];for(var l=0,m=i.length;l<m;l++)k[l]=Math.floor((1-c)*i[l]+c*j[l]);return{red:k[0],green:k[1],blue:k[2]}}}}(jQuery,ui),function(a,b){function c(a,b){return a=(""+a).replace(/_/g,"."),b=b||1,a=String(a).split("."),a=a[0]+"."+(a[1]||"0"),a=Number(a).toFixed(b)}function d(a,b,c){a.name=b,a.version=c,a[b]=c}var e,f,g,h,i=(navigator.platform||"").toLowerCase(),j=navigator.userAgent.toLowerCase(),k=k;e={name:void 0!==window.orientation?"iPod":(i.match(/mac|win|linux/i)||[k])[0],version:0,iPod:0,iPad:0,iPhone:0,iOS:0,android:0,windowsPhone:0,win:0,linux:0,mac:0},(h=j.match(/windows ([\d.]+)/))?d(e,"win",c(h[1])):(h=j.match(/windows nt ([\d.]+)/))?d(e,"win",c(h[1])):(h=j.match(/linux ([\d.]+)/))?d(e,"linux",c(h[1])):(h=j.match(/mac ([\d.]+)/))?d(e,"mac",c(h[1])):(h=j.match(/ipod ([\d.]+)/))?d(e,"iPod",c(h[1])):(h=j.match(/ipad[\D]*os ([\d_]+)/))?d(e,"iPad",c(h[1])):(h=j.match(/iphone[\D]*os ([\d_]+)/))?d(e,"iPhone",c(h[1])):(h=j.match(/android ([\d.]+)/))?d(e,"android",c(h[1])):(h=j.match(/windows phone ([\d.]+)/))&&d(e,"windowsPhone",c(h[1])),(e.iPhone||e.iPad)&&(e.iOS=e.iPhone||e.iPad),f={name:k,version:0,ie:0,edge:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,adobeAir:0},(h=j.match(/edge\/([\d.]+)/))?d(f,"edge",c(h[1])):(h=j.match(/trident.*; rv\:([\d.]+)/))?d(f,"ie",c(h[1])):(h=j.match(/msie ([\d.]+)/))?d(f,"ie",c(h[1])):(h=j.match(/firefox\/([\d.]+)/))?d(f,"firefox",c(h[1])):(h=j.match(/chrome\/([\d.]+)/))?d(f,"chrome",c(h[1])):(h=j.match(/opera.([\d.]+)/))?d(f,"opera",c(h[1])):(h=j.match(/adobeair\/([\d.]+)/))?d(f,"adobeAir",c(h[1])):(h=j.match(/version\/([\d.]+).*safari/))&&d(f,"safari",c(h[1])),(h=j.match(/version\/([\d.]+).*mobile.*safari/))&&d(f,"mobileSafari",c(h[1])),e.iPad&&d(f,"mobileSafari","0.0"),f.ie&&(document.documentMode?document.documentMode!==Math.floor(f.ie)&&d(f,"ie",c(document.documentMode)):document.documentMode=Math.floor(f.ie)),g={name:k,version:0,trident:0,gecko:0,webkit:0,presto:0},(h=j.match(/trident\/([\d.]+)/))?d(g,"trident",c(h[1])):(h=j.match(/gecko\/([\d.]+)/))?d(g,"gecko",c(h[1])):(h=j.match(/applewebkit\/([\d.]+)/))?d(g,"webkit",c(h[1])):(h=j.match(/presto\/([\d.]+)/))&&d(g,"presto",c(h[1])),f.ie&&(6==f.ie?d(g,"trident",c("4")):7!=f.ie&&8!=f.ie||d(g,"trident",c("5"))),b.platform=e,b.browser=f,b.engine=g}(jQuery,ui),function(a,b){function c(){if(!(this instanceof c))return new c;this.initialize()}c.fitCenter=function(){this.displayWidth=this.originalWidth,this.displayHeight=this.originalHeight,this.marginTop=0,this.marginLeft=0,this.width>this.height?(this.originalHeight>this.height&&(this.displayHeight=this.height),this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.displayWidth>this.width?(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.marginTop=Math.floor((this.height-this.displayHeight)/2)):(this.marginLeft=Math.floor((this.width-this.displayWidth)/2),this.marginTop=Math.floor((this.height-this.displayHeight)/2))):(this.displayWidth>this.width&&(this.displayWidth=this.width),this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.displayHeight>this.height?(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.marginLeft=Math.floor((this.width-this.displayWidth)/2)):(this.marginLeft=Math.floor((this.width-this.displayWidth)/2),this.marginTop=Math.floor((this.height-this.displayHeight)/2)))},c.centerCrop=function(){this.displayWidth=this.originalWidth,this.displayHeight=this.originalHeight,this.marginTop=0,this.marginLeft=0,this.width>this.height?(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.displayWidth>this.width?this.marginLeft=-Math.floor((this.displayWidth-this.width)/2):this.displayWidth<this.width&&(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.marginTop=-Math.floor((this.displayHeight-this.height)/2))):(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.displayHeight>this.height?this.marginTop=-Math.floor((this.displayHeight-this.height)/2):this.displayHeight<this.height&&(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.marginLeft=-Math.floor((this.displayWidth-this.width)/2)))},c.prototype={constructor:c,initialize:function(){this.src=null,this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.originalWidth=0,this.originalHeight=0},load:function(a,d,e,f){if(!b.core.isString(a)||0===a.length)throw new TypeError("图片src不正确");this.src=a,this.width=d,this.height=e;var g=this;return b.core.isFunction(f)||(f=c.fitCenter),new Promise(function(b,c){var d=new Image;d.onload=function(){d.onload=null,g.originalWidth=d.width,g.originalHeight=d.height,f.call(g),b(g)},d.onerror=function(){c(d)},d.src=a})}},b.ImageLoader=c,a.fn.setImage=function(a,c,d,e){var f,g,h,i;if("IMG"==this.nodeName())return i=this,b.core.isPlainObject(a)&&(f=a,a=f.src,c=f.width,d=f.height,e=f.fillMode),g=this.parent(),arguments.length<2?"BODY"==g.nodeName()?(c=root.clientWidth,d=root.clientHeight):(c=g.width(),d=g.height()):b.core.isNumber(c)&&b.core.isNumber(d)||(c=320,d=240),b.core.isFunction(e)||(e=b.ImageLoader.fitCenter),h=b.ImageLoader(),h.load(a,c,d,e).then(function(b){var c={"vertical-align":"top"};return c.width=b.displayWidth+"px",c.height=b.displayHeight+"px",c["margin-top"]=b.marginTop+"px",c["margin-left"]=b.marginLeft+"px",i.css(c),i.prop("src",a),b},function(a){return i.prop("src",b.text.empty),a})}}(jQuery,ui),function(a,b){function c(a,c,d,e,f){var h,i,j,k;(h=Object.getOwnPropertyDescriptor(a,c))&&!1===h.configurable||(i=h.get,j=h.set,e||!b.core.isObject(d)&&!Array.isArray(d)||(k=new g(d)),a.__notice__,Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:function(){return i?i.call(a):d},set:function(f){var h,l=i?i.call(a):d;l===f||f!==f&&d!==d||(j?j.call(a,f):d=f,e||!b.core.isObject(d)&&!Array.isArray(d)||(h=new g(f),h.dependency.depMap=k.dependency.depMap,k=h),h.dependency.notify(c))}}))}function d(a){var c,d;return c=b.core.isObject(a),d=Array.isArray(a),c||d?c&&b.core.isEmptyObject(a)?a:(a.hasOwnProperty("__notice__")&&a.__notice__ instanceof g?a.__notice__:(d||c)&&Object.isExtensible(a)&&new g(a),a.refresh=e,a):a}function e(){f(this)}function f(a){var c,d,e,h,i,j=Object.keys(a),k=[];for(c=0,d=j.length;c<d;c++)e=j[c],h=a[e],(b.core.isObject(h)||Array.isArray(h))&&h.__notice__ instanceof g?f(h):k.push(e);i=a.__notice__,i.dependency.notify.apply(i.dependency,k)}function g(a){this.value=a,this.dependency=new h,Object.defineProperty(a,"__notice__",{value:this,enumerable:!1,writable:!0,configurable:!0}),Array.isArray(a)?(k(a,m,n),this.arrayNotify(a)):this.objectNotify(a)}function h(){this.depMap={}}function i(a){var b=null;this.id=++p,this.viewModel=null,this.isActive=!0,a?(this.sync=!!a.sync,this.lazy=!!a.lazy):this.sync=this.lazy=!1,this.value=this.lazy?null:this.get(),Object.defineProperty(this,"propertyName",{configurable:!1,enumerable:!0,get:function(){return b||"_"},set:function(a){b=a}})}function j(a,c,d,e,f){var g;if(!a||!a.__notice__)throw new TypeError("the arguments 'viewModel' is invalid.");if(!a.hasOwnProperty(c))throw new TypeError("the property '"+c+"' not belong to the viewModel.");return b.core.isFunction(d)&&(e=d,d=null),b.core.isFunction(e)?(g=new i(f),g.propertyName=c,g.viewModel=a,g.action=function(b,c){e.call(a,b,c,d)},g):null}var k,l,m=[],n=["push","pop","shift","unshift","splice","sort","reverse"],o="__proto__"in{},p=0;n.forEach(function(a){var b=m[a];m[a]=function(){var c,d,e,f=m.slice.call(arguments,0);switch(c=b.apply(this,f),a){case"push":case"unshift":d=f;break;case"splice":d=f.slice(2)}return e=this.__notice__,d&&e.arrayNotify(d),e.dependency.notify(),c}}),k=o?function(a,b,c){a.__proto__=b}:function(a,b,c){var d,e,f;for(d=0,e=c.length;d<e;d++)f=c[d],a[f]=b[f]},l={queue:[],queueElementMap:{},isRunning:!1,isWaiting:!1,runIndex:0,enqueue:function(a){var c,d=a.id;if(!this.queueElementMap[d]){if(this.queueElementMap[d]=!0,this.isRunning){for(c=this.queue.length-1;c>this.runIndex&&this.queue[c].id>a.id;)c--;this.queue.splice(c+1,0,a)}else this.queue.push(a);this.isWaiting||(this.isWaiting=!0,b.setTask(function(){this.run()}.bind(this)))}},run:function(){var a,b;for(this.isRunning=!0,this.queue.sort(function(a,b){return a.id-b.id}),a=0;a<this.queue.length;a++)this.runIndex=a,b=this.queue[a],this.queueElementMap[b.id]=null,b.execute();this.reset()},reset:function(){this.runIndex=0,this.queue.length=0,this.queueElementMap={},this.isRunning=this.isWaiting=!1}},g.prototype={constructor:g,arrayNotify:function(a){var b,c;for(b=0,c=a.length;b<c;b++)d(a[b])},objectNotify:function(a){var b,d,e=Object.keys(a);for(b=0,d=e.length;b<d;b++)c(a,e[b],a[e[b]])}},h.prototype={constructor:h,add:function(a){var b;a instanceof i&&(b=a.propertyName,this.depMap.hasOwnProperty(a.propertyName)||(this.depMap[b]=[]),this.depMap[b].push(a))},remove:function(a){var b;if(a instanceof i){var b,c,d;if(b=a.propertyName,c=this.depMap[b],Array.isArray(c))for(d=c.length-1;d>=0;d--)if(c[d]===a){c.splice(d,1);break}}},depend:function(){},notify:function(){var a,c,d,e,f,g;if(0===arguments.length)a=Object.keys(this.depMap);else for(a=[],f=0,g=arguments.length;f<g;f++)c=arguments[f],b.core.isString(c)&&c.length>0&&this.depMap.hasOwnProperty(c)&&a.push(c);for(e=[],f=0,g=a.length;f<g;f++)d=this.depMap[a[f]],d.forEach(function(a){try{a.update()}catch(a){e.push(a)}});if(e.length>0)throw e.toString()}},i.prototype={constructor:i,update:function(){this.isActive&&(this.sync?this.execute():l.enqueue(this))},execute:function(){var a,c;if(a=this.value,(c=this.get())!==a){this.value=c;try{this.action(c,a)}catch(a){b.handleError(a)}}},get:function(){var a=null;return this.viewModel&&this.viewModel.hasOwnProperty(this.propertyName)&&(a=this.viewModel[this.propertyName]),a}},b.ViewModel=d,b.ViewModel.bindOnce=function(a,b,c,d){j(a,b,c,d)},b.ViewModel.bindOneWay=function(a,b,c,d,e){var f,g,h,i;g={sync:!!e},(f=j(a,b,c,d,g))&&(h=a.__notice__,h.dependency.add(f),i=a[b],Array.isArray(i)&&(h=i.__notice__)&&h.dependency.add(f))},b.ViewModel.bindTwoWay=function(a){}}(jQuery,ui),function(a,b){function c(){}function d(a){var b,c,d,e,f;for(b=a.split("."),c=window,e=0,f=b.length;e<f;e++)d=b[e],c[d]||(c[d]={}),c=c[d];return c}function e(b,c){var e,f,g,h={name:null,namespace:null,fullName:b,constructor:c};return g=b.lastIndexOf("."),g<0?(h.name=b,f=window[h.name],h.constructor=window[h.name]=c):(h.namespace=b.substring(0,g),h.name=b.substring(g+1),e=d(h.namespace),f=e[h.name],h.constructor=e[h.name]=c),f&&a.extend(c,h.constructor),h}function f(c,d,f,g){var h,i,j={};return b.core.isFunction(g)||(g=function(){}),h=e(c,g),d?i=new d:(i={},i.namespace=""),i.option=a.extend({},i.option),a.each(f,function(b,c){if(a.isFunction(c)){var e=d.prototype[b];a.isFunction(e)&&(delete f[b],j[b]=function(){var a=function(){return d.prototype[b].apply(this,arguments)},e=function(a){return d.prototype[b].apply(this,a)};return function(){var b,d=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=c.apply(this,arguments),this._super=d,this._superApply=f,b}}())}}),h.constructor.prototype=a.extend(i,f,j,h),h.constructor}function g(){}g.prototype={constructor:g,ctrlName:"CtrlBase",namespace:"ui.ctrls",version:b.version,mergeEvents:function(a,b){var c,d;if(!Array.isArray(a))return b;for(c={},d=0,len=a.length;d<len;d++)c.hasOwnProperty(a[d])||(c[a[d]]=!0);for(d=0,len=b.length;d<len;d++)c.hasOwnProperty(b[d])||(c[b[d]]=!0);b=[];for(d in c)c.hasOwnProperty(d)&&b.push(d);return b},i18n:function(a){},_initialize:function(a,c){var d;return this.document=document,this.window=window,this.element=c||null,this.option=b.extend(!0,{},this._defineOption(),a)||{},d=this._defineEvents(),Array.isArray(d)&&d.length>0&&(this.eventDispatcher=new b.CustomEvent(this),this.eventDispatcher.initEvents(d)),this._create(),this._render(),this},_defineOption:c,_defineEvents:c,_create:c,_render:c,defineProperty:function(c,d,e){var f,g={};if(!b.core.isString(c)||0===c.length)throw new TypeError("参数propertyName只能是String类型并且不能为空");if("undefined"!=typeof Reflect&&b.core.isFunction(Reflect.defineProperty))f=Reflect.defineProperty;else{if(!b.core.isFunction(Object.defineProperty))return;f=Object.defineProperty}b.core.isFunction(d)&&(g.get=a.proxy(d,this)),b.core.isFunction(e)&&(g.set=a.proxy(e,this)),g.enumerable=!1,g.configurable=!1,f(this,c,g)},toString:function(){return this.fullName}},b.ctrls={CtrlBase:g},b.define=function(a,c,d){var e,g;return b.core.isString(a)&&0!==a.length?(e=a.indexOf("."),e<0?a="ui.ctrls."+a:"ui"!==a.substring(0,e)&&(a="ui."+a),d||(d=c,c=b.ctrls.CtrlBase),g=f(a,c,d,function(a,c){if(!(this instanceof b.ctrls.CtrlBase))return new g(a,c);arguments.length&&this._initialize(a,c)})):null}}(jQuery,ui),function(a,b){function c(a){var c;1===a.which&&(c={target:a.target,option:this.option},c.currentX=this.currentX=a.pageX,c.currentY=this.currentY=a.pageY,b.core.isFunction(this.option.onBeginDrag)&&!1===this.option.onBeginDrag.call(this,c)||(g.on("mousemove",this.onMouseMoveHandler).on("mouseup",this.onMouseUpHandler).on("mouseleave",this.onMouseUpHandler),document.onselectstart=function(){return!1},this.option.target.addClass("cancel-user-select"),this._isDragStart=!0,this.shield&&h.append(this.shield)))}function d(a){var c={target:a.target,option:this.option};this._isDragStart&&(c.x=a.pageX-this.currentX,c.y=a.pageY-this.currentY,c.currentX=this.currentX=a.pageX,c.currentY=this.currentY=a.pageY,b.core.isFunction(this.option.onMoving)&&this.option.onMoving.call(this,c))}function e(a){var c={target:a.target,option:this.option};1===a.which&&this._isDragStart&&(this._isDragStart=!1,this.currentX=this.currentY=null,g.off("mousemove",this.onMouseMoveHandler).off("mouseup",this.onMouseUpHandler).off("mouseleave",this.onMouseUpHandler),document.onselectstart=null,this.option.target.removeClass("cancel-user-select"),b.core.isFunction(this.option.onEndDrag)&&this.option.onEndDrag.call(this,c),this.shield&&this.shield.remove())}function f(a){if(!(this instanceof f))return new f(a);this.initialize(a)}var g=a(document),h=a(document.body),i={context:null,target:null,handle:null,parent:h,hasIframe:!1,onBeginDrag:null,onMoving:null,onEndDrag:null};f.prototype={constructor:f,initialize:function(b){this.doc=null,this.shield=null,this.isTurnOn=!1,this.option=a.extend({},i,b),this.doc=this.option.doc,!0===this.option.hasIframe&&(this.shield=a("<div class='drag-shield'>"),this.shield.css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%","z-index":"999999","background-color":"#fff",filter:"Alpha(opacity=1)",opacity:".01"})),this.onMouseDownHandler=a.proxy(c,this),this.onMouseMoveHandler=a.proxy(d,this),this.onMouseUpHandler=a.proxy(e,this)},on:function(){var a,b=this.option.target,c=this.option.handle,d=this.option.parent;this.isTurnOn||(this.isTurnOn=!0,d.isNodeName("body")||(a=d.css("position"),this.originParentPosition=a,"absolute"!==a&&"relative"!==a&&"fixed"!==a&&d.css("position","relative")),this.originTargetPosition=b.css("position"),"absolute"!==this.originTargetPosition&&b.css("position","absolute"),c.on("mousedown",this.onMouseDownHandler),this.option.target&&this.option.target.data("mouse-dragger",this))},off:function(){var a=this.option.handle;this.isTurnOn&&(this.isTurnOn=!1,a.off("mousedown",this.onMouseDownHandler).css("position",this.originTargetPosition),this._isDragStart&&this.onMouseUpHandler({target:document,which:1}),this.option.parent.css("position",this.originParentPosition))}},b.MouseDragger=f,a.fn.draggable=function(a){var c;if(a&&a.target&&a.parent&&b.core.isDomObject(this[0])&&"BODY"!==this.nodeName())return a.handle=this,a.getParentCssNum=function(b){return parseFloat(a.parent.css(b))||0},a.onBeginDrag=function(a){var b=this.option,c=b.parent.offset();c||(c={top:0,left:0}),b.topLimit=c.top+b.getParentCssNum("border-top")+b.getParentCssNum("padding-top"),b.leftLimit=c.left+b.getParentCssNum("border-left")+b.getParentCssNum("padding-left"),b.rightLimit=c.left+(b.parent.outerWidth()||b.parent.width()),b.bottomLimit=c.top+(b.parent.outerHeight()||b.parent.height()),b.targetWidth=b.target.outerWidth(),b.targetHeight=b.target.outerHeight()},a.onMoving=function(a){var b=this.option,c=b.target.position();c.top+=a.y,c.left+=a.x,c.top<b.topLimit?c.top=b.topLimit:c.top+b.targetHeight>b.bottomLimit&&(c.top=b.bottomLimit-b.targetHeight),c.left<b.leftLimit?c.left=b.leftLimit:c.left+b.targetWidth>b.rightLimit&&(c.left=b.rightLimit-b.targetWidth),b.target.css({top:c.top+"px",left:c.left+"px"})},c=b.MouseDragger(a),c.on(),this},a.fn.undraggable=function(){var a;0!==this.length&&(a=this.data("mouse-dragger"))&&a instanceof f&&a.off()}}(jQuery,ui),function(a,b){function c(){var c,e,f=this;e=function(b,e){var g,h=null
;if(4===b.readyState)if(200===b.status)g=JSON.parse(b.responseText),e.isEnd?(f.percent=100,f.fire("progressing",f.percent),f.fire("uploaded",d.call(f,g))):c(e.fileName,e.end,e.file,e.total,g.FileId);else{try{h=a.parseJSON(b.responseText),h=h.ErrorMessage||h.errorMessage||h.message,h||(h="服务器没有返回错误信息。")}catch(a){h="服务器返回的错误信息不是JSON格式，无法解析。"}h=404==b.status?"请求地址不存在，"+h:401==b.status?"没有登录，"+h:403==b.status?"没有上传权限，"+h:"上传错误，"+h,f.fire(error,h)}},c=function(a,c,d,g,h){var i,j,k,l,m;f.percent=Math.floor(c/g*1e3)/10,f.fire(progressing,f.percent),i=!1,j=c+f.chunkSize,k=null,j>=g&&(j=g,i=!0),k="mozSlice"in d?d.mozSlice(c,j):"webkitSlice"in d?d.webkitSlice(c,j):d.slice(c,j),l=new XMLHttpRequest,m={isEnd:i,fileName:a,index:c,end:j,file:d,total:g},l.onload=function(){e.call(arguments.callee.caller,l,m)},l.open("POST",f.option.url,!0),l.setRequestHeader("X-Request-With","XMLHttpRequest"),l.setRequestHeader("X-File-Index",c),l.setRequestHeader("X-File-End",j),l.setRequestHeader("X-File-Total",g),l.setRequestHeader("X-File-IsEnd",i+b.str.empty),l.setRequestHeader("X-File-Name",encodeURIComponent(a)),h&&l.setRequestHeader("X-File-Id",h),l.setRequestHeader("Content-Type","application/octet-stream"),l.send(k)},this.doUpload=function(){var a=this.inputFile[0].files,b=a[0];if(a&&0!==a.length){var d=b.fileName||b.name,e=b.size;c(d,0,b,e)}}}function d(a){return a||(a={}),a.extension=this.extension,a.fileName=this.fileName,a}function e(a){var b;return this._reset(),b=this._inputFile.val(),0!==b.length&&(this.checkFile(b)?void(!1!==this.fire(uploading,b)&&(this.doUpload(),this._inputFile.val(""))):(f("文件格式不符合要求，请重新选择"),this._inputFile.val(""),!1))}function f(a){return b.core.isFunction(b.messageShow)?void b.messageShow(a):b.core.isFunction(b.msgshow)?void b.msgshow(a):void alert(a)}b.define("ui.ctrls.Uploader",{_defineOption:function(){return{url:null,filter:"*.*"}},_defineEvents:function(){return["uploading","upload","progressing","error"]},_create:function(){this._uploaderId=++id,this._form=null,this._inputFile=null,this.onInputFileChangeHandler=e.bind(this),this._reset()},_render:function(){this._prepareUploadMode(),this._initUploadButton(),this._initUpload()},_prepareUploadMode:function(){try{new XMLHttpRequest,this._initUpload=c,null,this.chunkSize=524288}catch(a){this._initUpload=formUpload}},_initUploadButton:function(){var c,d={},e=this.element;this._inputFile=a("<input type='file' class='ui-uploader-input-file' value='' />"),this._inputFile.prop("id","inputFile_"+this._uploaderId),this._inputFile.attr("name",this._uploaderId).attr("title","选择上传文件"),this._inputFile.change(this.onInputFileChangeHandler),this.inputFile[0].files||(this._initUpload=formUpload),b.core.each("",function(a){d[a]=e.css(a)}),"absolute"!==d.position&&"relative"!==d.position&&"fixed"!==d.position&&(d.position="relative"),d.overflow="hidden",d.width=e.outerWidth()+"px",d.height=e.outerHeight()+"px",c=a("<div />").css(d),c=e.css({margin:"0",top:"0",left:"0",right:"auto",bottom:"auto"}).wrap(c).parent(),this._uploadPanel=a("<div class='ui-uploader-file' />"),this._uploadPanel.append(this._inputFile),c.append(this._uploadPanel)},_reset:function(){this.filePath=null,this.extension=null,this.fileName=null,this.percent=0},checkFile:function(a){var b=a.lastIndexOf(".");return-1!==b&&(this.fileName=a.substring(a.lastIndexOf("\\")+1,b),this.extension=a.substring(b).toLowerCase().trim(),"*.*"===this.option.filter||-1!==this.option.filter.indexOf(this.extension))}}),a.fn.uploader=function(a){return 0===this.length?null:b.ctrls.Uploader(a,this)}}(jQuery,ui),function(a,b){function c(c){var d,e;d=a("#"+b.theme.highlightSheetId),d.length>0&&(e=d.prop("href"),e=b.url.setParams({highlight:c.Id}),d.prop("href",e)),b.theme.currentHighlight=c,b.page.fire("hlchanged",c)}b.theme={currentTheme:"Light",currentHighlight:null,defaultHighlight:"Default",highlightSheetId:"highlight",getHighlight:function(a){var b,c,d,e;if(a||(a=this.defaultHighlight),Array.isArray(this.highlights))for(d=0,e=this.highlights.length;d<e;d++)if(c=this.highlights[d],c.Id===a){b=c;break}return b},changeHighlight:function(a,d){b.ajax.postJson(a,{themeId:d.Id},function(a){a.Result&&c(d)},function(a){b.msgshow("修改主题失败，"+a.message,!0)})},setHighlight:function(a){a&&c(a)},initHighlight:function(){var c,d,e;c=a("#"+b.theme.highlightSheetId),c.length>0&&(d=c.prop("href"),e=b.url.getParams(d).highlight),this.currentHighlight=this.getHighlight(e),b.page.fire("highlightChanged",e)}}}(jQuery,ui),function(a,b){b.eventPriority={masterReady:3,pageReady:2,bodyResize:3,ctrlResize:2,elementResize:2};var c=b.page={_resizeDelay:200,_resizeTimeoutHandler:null,events:["themechanged","hlchanged","ready","htmlclick","docmouseup","resize","hashchange"]};c.event=new b.CustomEvent(c),c.event.initEvents(),a(document).ready(function(a){c.fire("ready")}).click(function(a){c.fire("htmlclick")}),a(window).on("resize",function(a){c._resizeTimeoutHandler&&clearTimeout(c._resizeTimeoutHandler),c._resizeTimeoutHandler=setTimeout(function(){c._resizeTimeoutHandler=null,c.fire("resize",document.documentElement.clientWidth,document.documentElement.clientHeight)},c._resizeDelay)}).on("hashchange",function(a){var b="";window.location.hash&&(b=window.location.hash),c.fire("hashchange",b)})}(jQuery,ui);
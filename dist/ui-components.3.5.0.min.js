/*! soon-ui 2021-11-07 */

!function(a,b){function c(b,c){return a.core.isString(b)?b.localeCompare(c):b<c?-1:c>b?1:0}function d(){if(!(this instanceof d))return new d;this.initialize()}d.prototype={constructor:d,initialize:function(){this.keys=null,this.items=null,this.comparer=null},sort:function(b,d){var e;a.core.isFunction(b)?(b=null,d=b):(this.keys=b,a.core.isFunction(arguments[1])&&(this.comparer=arguments[1])),this.keys=b,Array.isArray(this.keys)&&(a.core.isFunction(d)||(d=c),this.comparer=d,(e=this.keys.length)<2||(Array.isArray(this.items)||(this.items=null),this._introsort(0,e-1,2*this._floorLog2(e))))},_introsort:function(a,b,c){for(var d;b>a;){if((d=b-a+1)<=16){if(1==d)return;return 2==d?void this._compareAndSwap(a,b):3==d?(this._compareAndSwap(a,b-1),this._compareAndSwap(a,b),void this._compareAndSwap(b-1,b)):void this._insertionsort(a,b)}if(0===c)return void this._heapsort(a,b);c--,d=this.partition(a,b),this._introsort(d+1,b,c),b=d-1}},partition:function(a,b){var c=parseInt(a+(b-a)/2,10);this._compareAndSwap(a,c),this._compareAndSwap(a,b),this._compareAndSwap(c,b);var d=this.keys[c];this._swap(c,b-1);var e=a;for(c=b-1;e<c;){for(;this.comparer(this.keys[++e],d)<0;);for(;this.comparer(d,this.keys[--c])<0;);if(e>=c)break;this._swap(e,c)}return this._swap(e,b-1),e},_heapsort:function(a,b){for(var c,d=b-a+1,e=Math.floor(d/2);e>=1;e--)this._downHeap(e,d,a);for(c=d;c>1;c--)this._swap(a,a+c-1),this._downHeap(1,c-1,a)},_downHeap:function(a,b,c){for(var d,e=this.keys[c+a-1],f=this.items?this.items[c+a-1]:null;a<=Math.floor(b/2)&&(d=2*a,d<b&&this.comparer(this.keys[c+d-1],this.keys[c+d])<0&&d++,!(this.comparer(e,this.keys[c+d-1])>=0));)this.keys[c+a-1]=this.keys[c+d-1],null!==this.items&&(this.items[c+a-1]=this.items[c+d-1]),a=d;this.keys[c+a-1]=e,null!==this.items&&(this.items[c+a-1]=f)},_insertionsort:function(a,b){var c,d,e,f;for(c=a;c<b;c++){for(d=c,e=this.keys[c+1],f=this.items?this.items[c+1]:null;d>=a&&this.comparer(e,this.keys[d])<0;)this.keys[d+1]=this.keys[d],null!==this.items&&(this.items[d+1]=this.items[d]),d--;this.keys[d+1]=e,this.items&&(this.items[d+1]=f)}},_swap:function(a,b){var c=this.keys[a];this.keys[a]=this.keys[b],this.keys[b]=c,this.items&&(c=this.items[a],this.items[a]=this.items[b],this.items[b]=c)},_compareAndSwap:function(a,b){a!=b&&this.comparer(this.keys[a],this.keys[b])>0&&this._swap(a,b)},_floorLog2:function(a){for(var b=0;a>=1;)b++,a/=2;return b}},a.Introsort=d}(ui,ui.$),function(a,b){function c(){}function d(){var a,b,c,d,e,f;if((e=arguments.length)%2)throw new TypeError("arguments length error");for(a=[{x:0,y:0}],c=0;c<e;c+=2)a.push({x:parseFloat(arguments[c]),y:parseFloat(arguments[c+1])});for(a.push({x:1,y:1}),b=[],f=a.length-1,c=1;c<=f;c++){for(b[c]=1,d=c-1;d>=1;d--)b[d]+=b[d-1];b[0]=1}return function(c){var d,e,g,h;for(c<0&&(c=0),c>1&&(c=1),h={x:0,y:0},d=0;d<=f;d++)e=a[d],g=b[d],h.x+=g*e.x*Math.pow(1-c,f-d)*Math.pow(c,d),h.y+=g*e.y*Math.pow(1-c,f-d)*Math.pow(c,d);return h.y}}function e(){this.duration=500,this.fps=60,this.onBegin=!1,this.onEnd=!1,this.loop=!1,this.isStarted=!1}var f,g,h,i,j,k=["ms","moz","webkit","o"];if(f=window.requestAnimationFrame,g=window.cancelAnimationFrame,!f)for(j=0;j<k.length&&!f;j++)f=window[k[j]+"RequestAnimationFrame"],g=window[k[j]+"CancelAnimationFrame"]||window[k[j]+"CancelRequestAnimationFrame"];f||(f=function(a,b){b=b||60,setTimeout(a,1e3/b)}),g||(g=function(a){clearTimeout(a)}),i={ease:d(.25,.1,.25,1),linear:d(0,0,1,1),"ease-in":d(.42,0,1,1),"ease-out":d(0,0,.58,1),"ease-in-out":d(.42,0,.58,1)},h={easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return(a/=.5)<1?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*(2*Math.PI)/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},swing:function(a){return.5-Math.cos(a*Math.PI)/2},bounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?2-(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)},linear:function(a){return a},sinusoidal:function(a){return-Math.cos(a*Math.PI)/2+.5},reverse:function(a){return 1-a},mirror:function(b,c){return(c=c||a.AnimationStyle.sinusoidal)(b<.5?2*b:1-2*(b-.5))},flicker:function(b){return b+=(Math.random()-.5)/5,a.AnimationStyle.sinusoidal(b<0?0:b>1?1:b)},wobble:function(a){return-Math.cos(a*Math.PI*(9*a))/2+.5},pulse:function(a,b){return-Math.cos(a*((b||5)-.5)*2*Math.PI)/2+.5},blink:function(a,b){return Math.round(a*(b||5))%2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},none:function(a){return 0},full:function(a){return 1}},e.prototype=new a.ArrayLike,e.prototype.add=function(a,b){return 1===arguments.length&&(b=a,a=b.target),b&&(b.target=a,this.push(b)),this},e.prototype.remove=function(b){var c,d=-1;if("number"!==a.core.type(b)){for(c=this.length-1;c>=0;c--)if(this[c]===b){d=c;break}}else d=b;d<0||d>=this.length||this.splice(d,1)},e.prototype.get=function(a){var b,c;for(b=this.length-1;b>=0;b--)if(c=this[b],c.name===a)return c;return null},e.prototype.doAnimation=function(){var a,b,c,d,e,g;0!==this.length&&(a=parseInt(this.fps,10)||60,e=this.length,c=this.onEnd,this.isStarted=!0,g=this,b=(new Date).getTime(),function(){var h;h=function(){var a,i,j,k,l;for(a=(new Date).getTime(),i=a-b,d=0;d<e;d++)if(j=g[d],k=j.duration||g.duration,!(j.disabled||i<j.delay))try{k+j.delay<=i?(l=1,j.disabled=!0):l=j.ease((i-j.delay)/k),j.current=Math.ceil(j.begin+l*j.change),j.onChange(j.current,j.target,g)}catch(a){g.promise._reject(a)}g.duration<=i?(g.isStarted=!1,g.stopHandle=null,c.call(g)):g.stopHandle=f(h)},g.stopHandle=f(h,1e3/a)}())},e.prototype._prepare=function(){var b,d,e,f,g=0;for(b=0,d=this.length;b<d;b++)e=this[b],e||(this.splice(b,1),b--),e.disabled=!1,e.begin=e.begin||0,e.end=e.end||0,e.change=e.end-e.begin,e.current=e.begin,e.disabled||0===e.change?(e.disabled=!0,g++):(e.onChange=e.onChange||c,e.ease=(a.core.isString(e.ease)?i[e.ease]:e.ease)||h.easeFromTo,e.duration=e.duration||0,e.delay=e.delay||0,(f=e.duration+e.delay)>this.duration&&(this.duration=f));return this.length==g},e.prototype.start=function(b){var d,e,f,g,h,i;return this.onBegin=a.core.isFunction(this.onBegin)?this.onBegin:c,this.onEnd=a.core.isFunction(this.onEnd)?this.onEnd:c,f=new Promise(function(a,b){d=a,e=b}),f._resolve=d,f._reject=e,this.promise=f,this.isStarted||(a.core.isNumber(b)&&b>0&&(this.duration=b),this.duration=parseInt(this.duration,10)||500,g=this._prepare(),this.onBegin.call(this),i=this,g?a.setTask(function(){i.onEnd.call(i),d.call(null,i)}):(h=this.onEnd,this.onEnd=function(){this.onEnd=h,h.call(this),d.call(null,this)},this.doAnimation())),f},e.prototype.stop=function(){var a;g(this.stopHandle),this.isStarted=!1,this.stopHandle=null,(a=this.promise)&&(this.promise=null,a.catch(c),a._reject.call(null,"stop"))},e.prototype.back=function(){var a,b,c,d;for(a=0,b=this.length;a<b;a++)c=this[a],d=c.begin,c.begin=c.current||c.end,c.end=d;return this.start()},a.animator=function(a){var b=new e;return b.add.apply(b,arguments),b},a.AnimationStyle=h,a.transitionTiming=function(){var b,c;return b=[].slice.call(arguments),c=b[0],a.core.isString(c)||(c=b.join(",")),i.hasOwnProperty(c)?i[c]:(i[c]=d.apply(this,b),i[c])},a.getRequestAnimationFrame=function(){return f},a.getCancelAnimationFrame=function(){return g},a.animator.fadeIn=function(b,c){var d,e;if(b&&((!c||c<=0)&&(c=240),"block"!==b.css("dispaly")&&(d=100*parseFloat(b.css("opacity")),isNaN(d)&&(d=0,b.css("opacity",d)),b.css("display","block"),!(d>=100))))return e=a.animator({target:b,begin:d,end:100,ease:h.easeFromTo,onChange:function(a){this.target.css("opacity",a/100)}}),e.duration=c,e.start()},a.animator.fadeOut=function(b){var c,d;if(b&&((!duration||duration<=0)&&(duration=240),"none"!==b.css("dispaly")))return c=100*parseFloat(b.css("opacity")),isNaN(c)&&(c=100,b.css("opacity",c)),c<=0?void b.css("display","none"):(d=a.animator({target:b,begin:c,end:0,ease:h.easeFromTo,onChange:function(a){this.target.css("opacity",a/100)}}),d.onEnd=function(){b.css("display","none")},d.duration=duration,d.start())}}(ui,ui.$),function(a,b){function c(a,b){var c,d,e,f,g,i,j,k,l=[];a=a.slice(0).concat(a.default),e=a.length,g=b;do{if(h.exec(""),(f=h.exec(g))&&(g=f[3],f[2]||!g))for(c=0;c<e;c++)if(j=a[c],i=j.getSelector(f[1])){for(d=l.length,k=!1;d--;)if(l[d].type===j&&l[d].key===i){k=!0;break}k||l.push({type:j,key:i});break}}while(f);return l}function d(a,b){var c,d,e;for(c=0,d=a.length;c<d;c++)if(e=a[c],b.isPrototypeOf(e))return e}function e(a,b){return a.id-b.id}function f(){if(!(this instanceof f))return new f;this.count=0,this.uid=0,this.types=Object.create(o),this.types.default=g,this.activeTypes=[],this.selectors=[]}var g,h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g,j=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g,k=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g,l=document.documentElement,n=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.msMatchesSelector,o=[];g={name:"UNIVERSAL",getSelector:function(){return!0},getElementKeys:function(){return[!0]}},o.push({name:"ID",getSelector:function(a){var b=a.match(i);return b?b[0].substring(1):null},getElementKeys:function(a){return a.id?[a.id]:null}}),o.push({name:"CLASS",getSelector:function(a){var b=a.match(j);return b?b[0].substring(1):null},getElementKeys:function(a){var b=a.className;if(b){if("string"==typeof b)return b.split(/\s/);if("object"==typeof b&&"baseVal"in b)return b.baseVal.split(/\s/)}return null}}),o.push({name:"TAG",getSelector:function(a){var b=a.match(k);return b?b[0].toUpperCase():null},getElementKeys:function(a){return[a.nodeName.toUpperCase()]}}),f.prototype={constructor:f,add:function(b,e){var f,g,h,i,j,k,l,m;if(a.core.isString(b)){for(l={id:this.uid++,selector:b,data:e},f=c(this.types,b),h=this.activeTypes,j=0,k=f.length;j<k;j++)g=f[j],i=d(h,g.type),i||(i=Object.create(g.type),i.map=new Map,h.push(i)),g.type,this.types.default,m=i.map.get(g.key),m||(m=[],i.map.set(g.key,m)),m.push(l);this.count++,this.selectors.push(b)}},remove:function(b,d){var e,f,g,h,i,j,k,l,m,n,o,p=0;if(a.core.isString(b)){for(o=1===arguments.length,e=c(this.types,b),g=this.activeTypes,i=0,j=e.length;i<j;i++)for(f=e[i],k=g.length;k--;)if(h=g[k],f.type.isPrototypeOf(h)&&(m=h.map.get(f.key)))for(l=m.length;l--;)n=m[l],n.selector!==b||!o&&n.data!==d||(m.splice(l,1),p++);this.count-=p}},matchesSelector:function(a,b){return n.call(a,b)},querySelectorAll:function(a,b){return b.querySelectorAll(a)},queryAll:function(a){var b,c,d,f,g,h,i,j,k,l,n;if(0===this.selectors.length)return[];for(b={},d=[],f=this.querySelectorAll(this.selectors.join[", "],a),h=0,i=f.length;h<i;h++)for(g=f[h],l=this.matches(g),j=0,k=l.length;j<k;j++)n=m[j],b[n.id]?c=b[n.id]:(c={id:n.id,selector:n.selector,data:n.data,elements:[]},b[n.id]=c,d.push(c)),c.elements.push(g);return d.sort(e)},matches:function(a){var b,c,d,f,g,h,i,j,k,l,m,n,o;if(!a)return[];for(n={},o=[],b=this.activeTypes,d=0,f=b.length;d<f;d++)if(c=b[d],k=c.getElementKeys(a))for(g=0,h=k.length;g<h;g++)if(l=c.map.get(k[d]))for(i=0,j=l.length;i<j;i++)m=l[i],!n[m.id]&&this.matchesSelector(a,m.selector)&&(n[m.id]=!0,o.push(m));return o.sort(e)}},a.SelectorSet=f}(ui,ui.$),function(a,b){function c(a,b,c){var d=a[b];return a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)},a}function d(a){var b,c=null,d={};return l?(Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:function(){return c}}),d.update=function(a){c=a},d.reset=function(b){Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:l.get})}):(b=a.currentTarget,d.update=function(b){a.currentTarget=b},d.reset=function(){a.currentTarget=b}),d}function e(a,b,c){var d,e,f=[],g=b;do{if(1!==g.nodeType)break;d=a.matches(g),d.length>0&&(e={node:g,observers:d},c?f.shift(e):f.push(e)),g=g.parentElement}while(g);return f}function f(a){var b,f,g,h,i,l,m,n=1===a.eventPhase?k:j,o=n[a.type],p=!1,q=!1;if(o&&(b=e(o,a.target,1===a.eventPhase),0!==(h=b.length))){for(c(a,"stopPropagation",function(){p=!0}),c(a,"stopImmediatePropagation",function(){q=!0}),m=d(a),g=0;g<h&&!p;g++)for(f=b[g],m.update(f.node),i=0,l=f.observers.length;i<l&&!q;i++)f.observers[i].data.call(f.node,a);m.reset()}}function g(b,c,d,e){var g,h,i;b&&c&&a.core.isFunction(d)&&(g=!(!e||!e.capture),h=g?k:j,i=h[b],i||(i=new a.SelectorSet,h[b]=i,document.addEventListener(b,f,g)),i.add(c,d))}function h(a,b,c,d){var e,g,h;a&&b&&(e=!(!d||!d.capture),g=e?k:j,h=g[a],h&&(h.remove(b,c),0===h.count&&(delete g[a],document.removeEventListener(name,f,e))))}function i(a,b,c){return a.dispatchEvent(new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:c}))}var j={},k={},l=a.core.isFunction(Object.getOwnPropertyDescriptor)?Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget"):null;a.on=g,a.off=h,a.fire=i}(ui,ui.$),function(a,b){function c(a){if(!(this instanceof c))return new c(a);this.copyTo.call(a,this)}function d(a){this._listeners={},this._eventTarget=a||this}c.prototype={constructor:c,copyTo:function(a){if(a){var b=this;Object.keys(b).forEach(function(c){a[c]=b[c]})}}},d.prototype={constructor:d,addEventListener:function(b,c,d,e){var f,g,h,i;for(a.core.isNumeric(d)&&isFinite(d)&&(e=d,d=null),a.core.isFunction(c)&&(d=c,c=null),f=this._listeners[b],f||(this._listeners[b]=f=[]),i=f.length,h=0,e=e||0;--i>-1;)g=f[i],g.callback===d?f.splice(i,1):0===h&&g.priority<e&&(h=i+1);f.splice(h,0,{callback:d,data:c,priority:e})},removeEventListener:function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].callback===b)return void d.splice(c,1)},dispatchEvent:function(a){var b,c,d,e,f,g=this._listeners[a];if(g&&g.length>0){for(b=this._eventTarget,c=Array.apply([],arguments),d=g.length;--d>-1;)e=g[d],c[0]={type:a,target:b,data:e.data},f=e.callback.apply(b,c);return f}},hasEvent:function(a){var b=this._listeners[a];return b&&b.length>0},initEvents:function(a,b){var c=this;b||(b=this._eventTarget),a||(a=b.events),Array.isArray(a)&&0!==a.length&&(b.on=function(a,b,d,e){c.addEventListener(a,b,d,e)},b.off=function(a,b){c.removeEventListener(a,b)},b.fire=b.trigger=function(a){var b=Array.apply([],arguments);return c.dispatchEvent.apply(c,b)},a.forEach(function(a){b[a]=c._createEventFunction(a,b)}))},_createEventFunction:function(a,b){var c=a;return function(a,d,e){arguments.length>0&&b.on(c,a,d,e)}}},a.CustomEvent=d}(ui,ui.$),function(ui,$){function noop(){}function isJsonContent(a){return a.startsWith("application/json")||a.startsWith("text/javascript")||a.startsWith("text/json")||a.startsWith("application/javascript")}function ajax(a){var b,c,d,e,f;if(!a||!a.url)throw new TypeError("参数必须为Object并且拥有url属性");return b={responseHeadersString:"",responseHeaders:{},requestHeaders:{},querystring:a.querystring,readyState:0,uniqueID:requestIDSeed--,status:0},c=new Promise(function(a,b){d=a,e=b}),c._resolve=d,c._reject=e,b=ui.extend(c,b,httpRequestMethods),a=ensureOption(a,b),b.option=a,b.async=!(!1===a.async),(a.crossDomain&&!supportCORS||rjsonp.test(a.url))&&"json"===a.dataType&&"GET"===a.type&&(a.dataType="jsonp"),f=a.dataType,ui.extend(b,httpRequestProcessor[a.files?"upload":f]||httpRequestProcessor.ajax),b.preprocess&&(f=b.preprocess()||f),a.contentType&&b.setRequestHeader("Content-Type",a.contentType),b.setRequestHeader("Accept",accepts[f]?accepts[f]+", "+acceptsAll+"; q=0.01":acceptsAll),a.headers&&Object.keys(a.headers).forEach(function(c){b.setRequestHeader(c,a.headers[c])}),a.async&&a.timeout>0&&(b._timeoutID=setTimeout(function(){b.abort("timeout"),b.dispatch(0,"timeout")},a.timeout)),b.prepareData&&b.prepareData(),b.then(a.success).catch(a.error).finally(a.complete),0===ui.ajax.global.activeIndex&&ui.ajax.global.fire("start"),ui.ajax.global.fire("send",b,a),ui.ajax.global.activeIndex++,b.request(),b}function getScript(a,b){return ui.get(a,null,b,"script")}function getJSON(a,b,c){return ui.get(a,b,c,"json")}function upload(a,b,c,d,e,f){return ui.core.isFunction(c)&&(f=e,e=d,d=c,c=null),ui.ajax({url:a,type:"post",dataType:f,files:b,data:c,success:d,error:e})}function extendHttpProcessor(){}var msie=0,useOnload,supportCORS=!1,isLocal=!1,global=ui.core.global(),head,HttpRequest,httpRequestMethods,httpRequestProcessor,ensureOption,ajaxConverter,eventDispatcher,events=["start","success","error","complete","stop"],acceptsAll,accepts,rquery=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rnoContent=/^(?:GET|HEAD)$/,rnewLine=/\n/g,rcarriageReturn=/\r/g,requestIDSeed=parseInt((Math.random()+"").substring(2),10),jsonpCallbackSeed=parseInt((Math.random()+"").substring(2),10);head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,global.VBArray&&(msie=document.documentMode||(global.XMLHttpRequest?7:6)),useOnload=0===msie||msie>8,msie||(supportCORS=!0),msie>=9&&(supportCORS="boolean"==typeof(new XMLHttpRequest).withCredentials);try{isLocal=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol)}catch(a){}!function(){var types=["XMLHttpRequest","ActiveXObject('MSXML2.XMLHTTP.6.0')","ActiveXObject('MSXML2.XMLHTTP.3.0')","ActiveXObject('MSXML2.XMLHTTP')","ActiveXObject('Microsoft.XMLHTTP')"],i,len,type;for(i=0,len=types.length;i<len;i++){type=types[i];try{if(eval("new "+type)){HttpRequest=new Function("return new "+type);break}}catch(a){}}}(),acceptsAll="*/".concat("*"),accepts={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},httpRequestProcessor={ajax:{prepareData:function(){var a,b=this.option,c=ui.core.type(b.data);"string"===c?this.querystring=b.data:"null"===c||"undefined"===c?this.querystring="":"array"===c||"object"===c?isJsonContent(b.contentType)?this.querystring=JSON.stringify(b.data):this.querystring=ui.param(b.data):this.querystring=b.data+"",this.hasRequestBody=!rnoContent.test(b.type),this.hasRequestBody||(a=rquery.test(b.url)?"&":"?",this.querystring&&(b.url+=a+this.querystring,this.querystring=null),!1===b.cache&&(b.url+=a+"_time="+(new Date-0)))},request:function(){var a,b;a=this,this.xhr=new HttpRequest,this.xhr.open(this.option.type,this.option.url,this.option.async,this.option.username,this.option.password),this.mimeType&&this.xhr.overrideMimeType&&this.xhr.overrideMimeType(this.mimeType),this.option.crossDomain&&supportCORS&&!0===this.option.withCredentials&&(this.xhr.withCredentials=!0),this.option.crossDomain||(this.requestHeaders["X-Requested-With"]="XMLHttpRequest");for(b in this.requestHeaders)this.requestHeaders.hasOwnProperty(b)&&this.xhr.setRequestHeader(b,this.requestHeaders[b]+"");ui.core.isFunction(this.option.progress)&&(0===msie||msie>9)&&(this.xhr.onprogress=this.option.progress),"responseType"in this.xhr&&/^(blob|arraybuffer|text)$/.test(this.option.dataType)?(this.xhr.responseType=this.option.dataType,this.useResponseType=!0):this.useResponseType=!1,this._timeoutID&&0===this.xhr.timeout&&(clearTimeout(this._timeoutID),delete this._timeoutID,this.xhr.timeout=this.option.timeout,this.xhr.ontimeout=function(){a.dispatch(0,"timeout")}),this.xhr.send(this.hasRequestBody&&(this.formdata||this.querystring)||null),this.option.async&&4!==this.xhr.readyState?useOnload?this.xhr.onload=this.xhr.onerror=function(b){a.respond()}:this.xhr.onreadystatechange=function(){4===a.xhr.readyState&&a.respond()}:this.respond()},respond:function(a,b){var c,d,e;if(this.xhr)try{if((c=4===this.xhr.readyState)||b)if(useOnload?this.xhr.onload=this.xhr.onerror=null:this.xhr.onreadystatechange=noop,b)!c&&ui.core.isFunction(this.xhr.abort)&&this.xhr.abort();else{d=this.xhr.status,this.responseText=ui.core.isString(this.xhr.responseText)?this.xhr.responseText:"";try{this.responseXML=this.xhr.responseXML.documentElement}catch(a){}this.useResponseType&&(this.response=this.xhr.response),this.responseHeadersString=this.xhr.getAllResponseHeaders();try{e=this.xhr.statusText}catch(a){this.error=a,e="firefoxaccesserror"}d||!isLocal||this.option.crossDomain?1223===d&&(d=204):d=this.responseText?200:404,this.dispatch(d,e)}}catch(a){b||this.dispatch(500,a)}}},jsonp:{preprocess:function(){var a,b,c,d,e,f;for(a=this.option.jsonpCallback||"ui.jsonp_callback_"+jsonpCallbackSeed--,this.jsonpCallbackName=a,rjsonp.test(this.option.url)?this.option.url=this.option.url.replace(rjsonp,"$1"+a):this.option.url=this.option.url+(rquery.test(this.option.url)?"&":"?")+this.option.jsonp+"="+a,b=a.split("."),f=global,d=0,e=b.length-1;d<e;d++)c=b[d],f[c]||(f[c]={}),f=f[c];return c=b[e],f[c]=function(a){f[c]=a},this.getJsonpCallBack=function(){return f[c]},this.finally(function(){delete f[c],delete this.jsonpCallbackName,delete this.getJsonpCallBack}.bind(this)),"script"}},script:{request:function(){var a;this.xhr=document.createElement("script"),this.option.charset&&(this.xhr.charset=this.option.charset),a=this,this.xhr.onerror=this.xhr[useOnload?"onload":"onreadystatechange"]=function(){a.respond()},this.xhr.src=this.option.url,head.insertBefore(this.xhr,head.firstChild)},respond:function(a,b){var c,d,e,f;this.xhr&&(c=/loaded|complete|undefined/i.test(this.xhr.readyState),(b||c)&&(this.xhr.onerror=this.xhr.onload=this.xhr.onreadystatechange=null,d=this.xhr.parentNode,d&&d.removeChild(this.xhr),b||(e=this.jsonpCallbackName,e?(e=this.getJsonpCallBack(),f=ui.core.isFunction(e)?[500,"error"]:[200,"success"]):f=[200,"success"],this.dispatch.apply(this,f))))}},upload:{preprocess:function(){this.option.contentType=""},prepareData:function(){var a,b,c=this.option.files;b=this.option.data,a=b instanceof FormData?this.data:new FormData,c&&(Array.isArray(c)||(c=[c]),c.forEach(function(b,c){var d;if(ui.core.isDomObject(b)&&"INPUT"===b.nodeName&&"file"===b.type){if(b.files)if(b.files.length>1)for(d=0;d<b.files.length;d++)a.append(b.name+"["+d+"]",b.files[d]);else a.append(b.name,b.files[0])}else b instanceof Blob&&a.append("file_"+c,b)})),ui.core.isString(b)?a.append("fileinfo",b):ui.core.isPlainObject(b)&&Object.keys(b).forEach(function(c){a.append(encodeURIComponent(c),encodeURIComponent(b[c]))}),this.formdata=a,this.hasRequestBody=!0}}},httpRequestProcessor.jsonp.prepareData=httpRequestProcessor.ajax.prepareData,httpRequestProcessor.script.prepareData=httpRequestProcessor.ajax.prepareData,httpRequestProcessor.jsonp.request=httpRequestProcessor.script.request,httpRequestProcessor.jsonp.respond=httpRequestProcessor.script.respond,httpRequestProcessor.upload.request=httpRequestProcessor.ajax.request,httpRequestProcessor.upload.respond=httpRequestProcessor.ajax.respond,ajaxConverter={text:function(a){return a+""},xml:function(a,b){return b||ui.parseXML(a)},html:function(a){return ui.parseHTML(a)},json:function(a){return a?(a=a.replace(rnewLine,"\\\\n").replace(rcarriageReturn,"\\\\r"),JSON.parse(a)):a},script:function(a){return ui.globalEval(a),a},jsonp:function(){var a;try{a=this.getJsonpCallBack()}catch(b){a=void 0,ui.handleError("the jsonp callback is undefined.")}return a}},httpRequestMethods={setRequestHeader:function(a,b){return this.requestHeaders[a]=b,this},getAllResponseHeaders:function(){return 4===this.readyState?this.responseHeadersString:null},getResponseHeader:function(a,b){if(4===this.readyState){for(;b=rheaders.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[a]}return void 0===b?null:b},overrideMimeType:function(a){return this.mimeType=a,this},abort:function(a){return a=a||"abort",this.xhr&&this.respond(0,a),this},dispatch:function(a,b){var c,d,e,f=b;if(this.xhr){if(this.readyState=4,c=a>=200&&a<300||304===a){if(204===a||"HEAD"===this.option.type)f="nocontent";else if(304===a)f="notmodified";else if(void 0===this.response){d=this.option.dataType||this.mimeType,(!d&&this.responseText||this.responseXML)&&(d=this.getResponseHeader("Content-Type")||"",d=d.match(/json|xml|script|html/i)||["text"],d=d[0].toLowerCase());try{this.response=ajaxConverter[d].call(this,this.responseText||"",this.responseXML)}catch(a){c=!1,this.error=a,f="parsererror"}}}else f||(f="error"),a<0&&(a=0);this.status=a,this.statusText=f+"",this._timeoutID&&(clearTimeout(this._timeoutID),delete this._timeoutID),e=this,c?(this._resolve({response:this.response,statusText:f,ajaxRequest:this}),ui.setTask(function(){ui.ajax.global.fire("success",e,e.option,f)})):(this._reject({ajaxRequest:this,statusText:f,error:this.error}),ui.setTask(function(){ui.ajax.global.fire("error",e,e.option,f)})),delete this.xhr,ui.ajax.global.activeIndex--,ui.setTask(function(){ui.ajax.global.fire("complete",e,e.option)}),0===ui.ajax.global.activeIndex&&ui.setTask(function(){0===ui.ajax.global.activeIndex&&ui.ajax.global.fire("stop")})}}},ensureOption=function(){var a={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:!0,timeout:0,jsonp:"callback",withCredentials:!1},b=/^\/\//,c=/#.*$/,d=document.createElement("a");return d.href=location.href,function(e,f){var g;if(e=ui.extend({},a,e),e.type=e.type.toUpperCase(),e.contentType=e.contentType.trim(),e.url=e.url.replace(c,"").replace(b,location.protocol+"//"),(!ui.core.isNumeric(e.timeout)||e.timeout<0)&&(e.timeout=0),!ui.core.isBoolean(e.crossDomain)){g=document.createElement("a");try{g.href=e.url,g.href="1"[0]?g.href:g.getAttribute("href",4),e.crossDomain=d.protocol+"//"+d.host!=g.protocol+"//"+g.host}catch(a){e.crossDomain=!0}}return e}}(),ui.ajax=ajax,ui.ajax.global={activeIndex:0},eventDispatcher=new ui.CustomEvent(ui.ajax.global),eventDispatcher.initEvents(events),["get","post"].forEach(function(a){ui[a]=function(b,c,d,e){return ui.core.isFunction(c)&&(e=e||d,d=c,c=null),ui.ajax({url:b,type:a,data:c,success:d,dataType:e})}}),ui.getScript=getScript,ui.getJSON=getJSON,ui.upload=upload}(ui,ui.$),function(a,b){function c(a){return a=a||0,a=parseInt(a,10),isNaN(a)&&(a=0),a=Math.round(Math.min(Math.max(0,a),255)),i.charAt((a-a%16)/16)+i.charAt(a%16)}function d(a){return i.indexOf(a.toUpperCase())}var e=/^[\#]([a-fA-F\d]{6}|[a-fA-F\d]{3})$/,f=/^rgb[\(]([\s]*[\d]{1,3}[\,]{0,1}[\s]*){3}[\)]$/i,g=/^rgba[\(]([\s]*[\d]{1,3}[\,][\s]*){3}(([\d])|(([0])?[\.][\d]+))[\)]$/i,h=/(([\d]*[\.][\d]+)|([\d]+))/gm,i="0123456789ABCDEF";a.color={parseRGB:function(a){var b;return f.test(a)&&(b=a.match(h))?{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10)}:null},parseRGBA:function(a){var b;return g.test(a)&&(b=a.match(h))?{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10),alpha:parseFloat(b[3])}:null},parseHex:function(b){var c,e,f;if(a.str.isEmpty(b))return null;if("#"===b.charAt(0)&&(b=b.substring(1)),3===b.length)for(e="",c=0;c<b.length;c++)e+=b.charAt(c)+b.charAt(c);else e=b;return f={},b=e.substring(0,2),f.red=16*d(b.charAt(0))+d(b.charAt(1)),b=e.substring(2,4),f.green=16*d(b.charAt(0))+d(b.charAt(1)),b=e.substring(4,6),f.blue=16*d(b.charAt(0))+d(b.charAt(1)),f},rgb2hex:function(a,b,d){return"#"+c(a)+c(b)+c(d)},overlay:function(a,b,c){var d,i,j,k;isNaN(c)&&(c=.5),d=function(a){var b;return e.test(a)?this.parseHex(a):f.test(a)||g.test(a)?(b=a.match(h),{red:parseInt(b[0],10),green:parseInt(b[1],10),blue:parseInt(b[2],10)}):a},a=d.call(this,a),b=d.call(this,b),i=[a.red||0,a.green||0,a.blue||0],j=[b.red||0,b.green||0,b.blue||0],k=[];for(var l=0,m=i.length;l<m;l++)k[l]=Math.floor((1-c)*i[l]+c*j[l]);return{red:k[0],green:k[1],blue:k[2]}}}}(ui,ui.$),function(a,b){function c(a,b){return a=(""+a).replace(/_/g,"."),b=b||1,a=String(a).split("."),a=a[0]+"."+(a[1]||"0"),a=Number(a).toFixed(b)}function d(a,b,c){a.name=b,a.version=c,a[b]=c}var e,f,g,h,i=(navigator.platform||"").toLowerCase(),j=navigator.userAgent.toLowerCase(),k=k;e={name:void 0!==window.orientation?"iPod":(i.match(/mac|win|linux/i)||[k])[0],version:0,iPod:0,iPad:0,iPhone:0,iOS:0,android:0,windowsPhone:0,win:0,linux:0,mac:0},(h=j.match(/windows ([\d.]+)/))?d(e,"win",c(h[1])):(h=j.match(/windows nt ([\d.]+)/))?d(e,"win",c(h[1])):(h=j.match(/linux ([\d.]+)/))?d(e,"linux",c(h[1])):(h=j.match(/mac ([\d.]+)/))?d(e,"mac",c(h[1])):(h=j.match(/ipod ([\d.]+)/))?d(e,"iPod",c(h[1])):(h=j.match(/ipad[\D]*os ([\d_]+)/))?d(e,"iPad",c(h[1])):(h=j.match(/iphone[\D]*os ([\d_]+)/))?d(e,"iPhone",c(h[1])):(h=j.match(/android ([\d.]+)/))?d(e,"android",c(h[1])):(h=j.match(/windows phone ([\d.]+)/))&&d(e,"windowsPhone",c(h[1])),(e.iPhone||e.iPad)&&(e.iOS=e.iPhone||e.iPad),f={name:k,version:0,ie:0,edge:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,adobeAir:0},(h=j.match(/edge\/([\d.]+)/))?d(f,"edge",c(h[1])):(h=j.match(/trident.*; rv\:([\d.]+)/))?d(f,"ie",c(h[1])):(h=j.match(/msie ([\d.]+)/))?d(f,"ie",c(h[1])):(h=j.match(/firefox\/([\d.]+)/))?d(f,"firefox",c(h[1])):(h=j.match(/chrome\/([\d.]+)/))?d(f,"chrome",c(h[1])):(h=j.match(/opera.([\d.]+)/))?d(f,"opera",c(h[1])):(h=j.match(/adobeair\/([\d.]+)/))?d(f,"adobeAir",c(h[1])):(h=j.match(/version\/([\d.]+).*safari/))&&d(f,"safari",c(h[1])),(h=j.match(/version\/([\d.]+).*mobile.*safari/))&&d(f,"mobileSafari",c(h[1])),e.iPad&&d(f,"mobileSafari","0.0"),f.ie&&(document.documentMode?document.documentMode!==Math.floor(f.ie)&&d(f,"ie",c(document.documentMode)):document.documentMode=Math.floor(f.ie)),g={name:k,version:0,trident:0,gecko:0,webkit:0,presto:0},(h=j.match(/trident\/([\d.]+)/))?d(g,"trident",c(h[1])):(h=j.match(/gecko\/([\d.]+)/))?d(g,"gecko",c(h[1])):(h=j.match(/applewebkit\/([\d.]+)/))?d(g,"webkit",c(h[1])):(h=j.match(/presto\/([\d.]+)/))&&d(g,"presto",c(h[1])),f.ie&&(6==f.ie?d(g,"trident",c("4")):7!=f.ie&&8!=f.ie||d(g,"trident",c("5"))),a.platform=e,a.browser=f,a.engine=g}(ui,ui.$),function(a,b){function c(){if(!(this instanceof c))return new c;this.initialize()}c.fitCenter=function(){this.displayWidth=this.originalWidth,this.displayHeight=this.originalHeight,this.marginTop=0,this.marginLeft=0,
this.width>this.height?(this.originalHeight>this.height&&(this.displayHeight=this.height),this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.displayWidth>this.width?(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.marginTop=Math.floor((this.height-this.displayHeight)/2)):(this.marginLeft=Math.floor((this.width-this.displayWidth)/2),this.marginTop=Math.floor((this.height-this.displayHeight)/2))):(this.displayWidth>this.width&&(this.displayWidth=this.width),this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.displayHeight>this.height?(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.marginLeft=Math.floor((this.width-this.displayWidth)/2)):(this.marginLeft=Math.floor((this.width-this.displayWidth)/2),this.marginTop=Math.floor((this.height-this.displayHeight)/2)))},c.centerCrop=function(){this.displayWidth=this.originalWidth,this.displayHeight=this.originalHeight,this.marginTop=0,this.marginLeft=0,this.width>this.height?(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.displayWidth>this.width?this.marginLeft=-Math.floor((this.displayWidth-this.width)/2):this.displayWidth<this.width&&(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.marginTop=-Math.floor((this.displayHeight-this.height)/2))):(this.displayWidth=this.width,this.displayHeight=Math.floor(this.originalHeight*(this.displayWidth/this.originalWidth)),this.displayHeight>this.height?this.marginTop=-Math.floor((this.displayHeight-this.height)/2):this.displayHeight<this.height&&(this.displayHeight=this.height,this.displayWidth=Math.floor(this.originalWidth*(this.displayHeight/this.originalHeight)),this.marginLeft=-Math.floor((this.displayWidth-this.width)/2)))},c.prototype={constructor:c,initialize:function(){this.src=null,this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.originalWidth=0,this.originalHeight=0},load:function(b,d,e,f){if(!a.core.isString(b)||0===b.length)throw new TypeError("图片src不正确");this.src=b,this.width=d,this.height=e;var g=this;return a.core.isFunction(f)||(f=c.fitCenter),new Promise(function(a,c){var d=new Image;d.onload=function(){d.onload=null,g.originalWidth=d.width,g.originalHeight=d.height,f.call(g),a(g)},d.onerror=function(){c(d)},d.src=b})}},a.ImageLoader=c,b.fn.setImage=function(b,c,d,e){var f,g,h,i;if("IMG"==this.nodeName())return i=this,a.core.isPlainObject(b)&&(f=b,b=f.src,c=f.width,d=f.height,e=f.fillMode),g=this.parent(),arguments.length<2?"BODY"==g.nodeName()?(c=root.clientWidth,d=root.clientHeight):(c=g.width(),d=g.height()):a.core.isNumber(c)&&a.core.isNumber(d)||(c=320,d=240),a.core.isFunction(e)||(e=a.ImageLoader.fitCenter),h=a.ImageLoader(),h.load(b,c,d,e).then(function(a){var c={"vertical-align":"top"};return c.width=a.displayWidth+"px",c.height=a.displayHeight+"px",c["margin-top"]=a.marginTop+"px",c["margin-left"]=a.marginLeft+"px",i.css(c),i.prop("src",b),a},function(b){return i.prop("src",a.text.empty),b})}}(ui,ui.$),function(a,b){function c(){}function d(a){var b,c,d,e,f;for(b=a.split("."),c=g,e=0,f=b.length;e<f;e++)d=b[e],c[d]||(c[d]={}),c=c[d];return c}function e(a,b){var c,e,f,h={name:null,namespace:null,fullName:a,constructor:b};return f=a.lastIndexOf("."),f<0?(h.namespace=a,h.name=a,e=g[h.name],h.constructor=g[h.name]=b):(h.namespace=a.substring(0,f),h.name=a.substring(f+1),c=d(h.namespace),e=c[h.name],h.constructor=c[h.name]=b),e&&(b.getOriginal=function(){return e}),h}function f(b,c,d,f){var g,h,i={};return a.core.isFunction(f)||(f=function(){}),g=e(b,f),c?(h=a.core.isFunction(c)?c.prototype:c,h=a.extend({},h)):h={name:"",namespace:""},Object.keys(d).forEach(function(b){var c=d[b];if(a.core.isFunction(c)){var e=h[b];a.core.isFunction(e)&&(delete d[b],i[b]=function(){var a=function(){return h[b].apply(this,arguments)},d=function(a){return h[b].apply(this,a)};return function(){var b,e=this._super,f=this._superApply;return this._super=a,this._superApply=d,b=c.apply(this,arguments),this._super=e,this._superApply=f,b}}())}}),g.constructor.prototype=a.extend({},h,d,i,g),g.constructor}var g=a.core.global();a.define=function(b,d,e){var g;return a.core.isString(b)&&0!==b.length?(e||(e=d,d=null),d||(d={}),a.core.isFunction(d._initialize)||(d._initialize=c),g=f(b,d,e,function(a,b){if(!(this instanceof g))return new g(a,b);this._initialize(a,b)})):null}}(ui,ui.$),function(a,b){function c(b){var c;1===b.which&&(c={target:b.target,option:this.option},c.currentX=this.currentX=b.pageX,c.currentY=this.currentY=b.pageY,a.core.isFunction(this.option.onBeginDrag)&&!1===this.option.onBeginDrag.call(this,c)||(g.on("mousemove",this.onMouseMoveHandler).on("mouseup",this.onMouseUpHandler).on("mouseleave",this.onMouseUpHandler),document.onselectstart=function(){return!1},this.option.target.addClass("cancel-user-select"),this._isDragStart=!0,this.shield&&h.append(this.shield)))}function d(b){var c={target:b.target,option:this.option};this._isDragStart&&(c.x=b.clientX-this.currentX,c.y=b.clientY-this.currentY,c.currentX=this.currentX=b.clientX,c.currentY=this.currentY=b.clientY,a.core.isFunction(this.option.onMoving)&&this.option.onMoving.call(this,c))}function e(b){var c={target:b.target,option:this.option};1===b.which&&this._isDragStart&&(this._isDragStart=!1,this.currentX=this.currentY=null,g.off("mousemove",this.onMouseMoveHandler).off("mouseup",this.onMouseUpHandler).off("mouseleave",this.onMouseUpHandler),document.onselectstart=null,this.option.target.removeClass("cancel-user-select"),a.core.isFunction(this.option.onEndDrag)&&this.option.onEndDrag.call(this,c),this.shield&&this.shield.remove())}function f(a){if(!(this instanceof f))return new f(a);this.initialize(a)}var g=b(document),h=b(document.body),i={context:null,target:null,handle:null,parent:h,hasIframe:!1,onBeginDrag:null,onMoving:null,onEndDrag:null};f.prototype={constructor:f,initialize:function(a){this.doc=null,this.shield=null,this.isTurnOn=!1,this.option=b.extend({},i,a),this.doc=this.option.doc,!0===this.option.hasIframe&&(this.shield=b("<div class='drag-shield'>"),this.shield.css({position:"fixed",top:"0px",left:"0px",width:"100%",height:"100%","z-index":"999999","background-color":"#fff",opacity:".01"})),this.onMouseDownHandler=c.bind(this),this.onMouseMoveHandler=d.bind(this),this.onMouseUpHandler=e.bind(this)},on:function(){var a,b=this.option.target,c=this.option.handle,d=this.option.parent;this.isTurnOn||(this.isTurnOn=!0,d.isNodeName("body")||(a=d.css("position"),this.originParentPosition=a,"absolute"!==a&&"relative"!==a&&"fixed"!==a&&d.css("position","relative")),this.originTargetPosition=b.css("position"),"absolute"!==this.originTargetPosition&&b.css("position","absolute"),c.on("mousedown",this.onMouseDownHandler),this.option.target&&this.option.target.data("mouse-dragger",this))},off:function(){var a=this.option.handle;this.isTurnOn&&(this.isTurnOn=!1,a.off("mousedown",this.onMouseDownHandler).css("position",this.originTargetPosition),this._isDragStart&&this.onMouseUpHandler({target:document,which:1}),this.option.parent.css("position",this.originParentPosition))}},a.MouseDragger=f,b.fn.draggable=function(b){var c,d,e;if(b&&b.target&&b.parent&&a.core.isDomObject(this[0])&&"BODY"!==this.nodeName())return b.handle=this,b.getParentCssNum=function(a){return parseFloat(b.parent.css(a))||0},a.core.isFunction(b.onBeginDrag)&&(d=b.onBeginDrag),b.onBeginDrag=function(a){var b,c,e=this.option,f=e.parent.offset();f||(f={top:0,left:0}),d&&d.call(null,a),c=e.parent.getBoundingClientRect(),b=e.target.getBoundingClientRect(),e.topLimit=f.top+e.getParentCssNum("border-top")+e.getParentCssNum("padding-top"),e.leftLimit=f.left+e.getParentCssNum("border-left")+e.getParentCssNum("padding-left"),e.rightLimit=f.left+c.width,e.bottomLimit=f.top+c.height,e.targetWidth=b.width,e.targetHeight=b.height,e.parentTop=f.top,e.parentLeft=f.left},a.core.isFunction(b.onMoving)&&(e=b.onMoving),b.onMoving=function(a){var b=this.option,c=b.target.position();e&&e.call(null,a),c.top=c.top+b.parentTop,c.left=c.left+b.parentLeft,c.top+=a.y,c.left+=a.x,c.top<b.topLimit?c.top=b.topLimit:c.top+b.targetHeight>b.bottomLimit&&(c.top=b.bottomLimit-b.targetHeight),c.left<b.leftLimit?c.left=b.leftLimit:c.left+b.targetWidth>b.rightLimit&&(c.left=b.rightLimit-b.targetWidth),c.top=c.top-b.parentTop,c.left=c.left-b.parentLeft,b.target.css({top:c.top+"px",left:c.left+"px"})},c=a.MouseDragger(b),c.on(),this},b.fn.undraggable=function(){var a;0!==this.length&&(a=this.data("mouse-dragger"))&&a instanceof f&&a.off()}}(ui,ui.$),function(a,b){function c(b,c){var d=document.getElementById(a.theme.highlightSheetId),e=c;d&&(e||(e=d.href,e=a.url.setParams({highlight:b.Id})),d.href=e),a.theme.currentHighlight=b,a.page.fire("hlchanged",a.theme.currentHighlight)}a.theme={currentTheme:"Light",currentHighlight:null,defaultHighlight:"Default",highlightSheetId:"highlight",getHighlight:function(a){var b,c,d,e;if(a||(a=this.defaultHighlight),Array.isArray(this.highlights))for(d=0,e=this.highlights.length;d<e;d++)if(c=this.highlights[d],c.Id===a){b=c;break}return b},changeHighlight:function(b,d){a.post(b,{themeId:d.Id},function(a){a.Result&&c(d)},"json")},setHighlight:function(a,b){a&&c(a,b)},initHighlight:function(){var b,c,d;b=document.getElementById(this.highlightSheetId),b&&(c=b.href,d=a.url.getParams(c).highlight),this.currentHighlight=this.getHighlight(d)||null,this.currentHighlight&&a.page.fire("hlchanged",this.currentHighlight)}}}(ui,ui.$),function(a,b){function c(){}function d(a){this.$errors||(this.$errors=[]),this.$errors.push(a)}function e(a){var b=Object.keys(a);return b.sort(function(a,b){var c=h[a]||i,d=h[b]||i;return c===d?0:c<d?-1:1}),b}a.eventPriority={masterReady:3,pageReady:2,bodyResize:3,elementResize:2,ctrlResize:1};var f={_resizeDelay:200,_resizeTimeoutHandler:null,events:["themechanged","hlchanged","ready","htmlclick","docmouseup","resize","hashchange","keydown","loaded"],$config:{model:null,created:null,layout:null,load:null,destroy:null,error:null}},g={},h={},i=100;f.event=new a.CustomEvent(f),f.event.initEvents(),f.init=function(b){var c,f=this.$config.model;a.core.isPlainObject(b)&&(f=a.extend(!0,{},f,b.model),delete b.model,this.$config=a.extend({},this.$config,b),this.$config.model=f),c=function(b){var c=this.$config,f=c.error,h=this;c.error=null,a.core.isFunction(f)||(f=d),e(c).forEach(function(b){var d=c[b];try{g.hasOwnProperty(b)?g[b].call(h,d):a.core.isFunction(d)&&d.call(h)}catch(a){a.cycleName=b,f.call(h,a)}}),this.$errors&&(this.$errors.forEach(function(b){console.log(b);var c=a.str.format("page init error. [{0}] {1}",b.cycleName,b.message);a.errorShow?a.errorShow(c):console.error(c)}),delete this.$errors)}.bind(this),this.$isInitAlready||(this.ready(c),this.$isInitAlready=!0)},f.plugin=function(b){if(b&&b.name&&a.core.isFunction(b.handler)){if(this.$config[b.name])throw new Error("the name "+b.name+" is exists.");this.$config[b.name]=c,g[b.name]=b.handler,h[b.name]=b.rank||++i}},f.get=function(b){return b&&g[b]?function(b,c,d){return{getName:function(){return d},setHandler:function(c){a.core.isFunction(c)&&(b[d]=c)},setRank:function(b){a.core.isNumber(b)&&(c[d]=b)}}}(g,h,b):null},f.plugin({name:"created",handler:function(b){a.core.isFunction(b)&&b.call(this)}}),f.plugin({name:"layout",handler:function(b){var c;a.core.isFunction(b)&&(c=b.bind(this),c(),this.resize(c,a.eventPriority.elementResize))}}),f.plugin({name:"load",handler:function(b){var c,d=function(){this.fire("loaded")}.bind(this);if(a.core.isFunction(b)&&(c=b.call(this))&&a.core.isFunction(c.then))return void c.then(d,d);d()}}),f.plugin({name:"destroy",handler:function(a){}}),b(document).ready(function(a){f.fire("ready")}).on("click",function(a){f.fire("htmlclick",a.target)}),b(window).on("resize",function(a){f._resizeTimeoutHandler&&clearTimeout(f._resizeTimeoutHandler),f._resizeTimeoutHandler=setTimeout(function(){f._resizeTimeoutHandler=null,f.fire("resize")},f._resizeDelay)}).on("hashchange",function(a){var b="";window.location.hash&&(b=window.location.hash),f.fire("hashchange",b)}),a.page=f}(ui,ui.$);